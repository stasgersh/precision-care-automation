{
  "id": "summary.onco.extended",
  "items": [
    {
      "group": "diagnosis",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Diagnosis"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "diagnosis"
                },
                "type": "text"
              },
              {
                "type": "table",
                "value": {
                  "path": "$.earliestGroupedPrimaryDiagnosis[*]",
                  "config": {
                    "cells": [
                      {
                        "header": "Primary diagnosis",
                        "elements": [
                          {
                            "dependsOn": {
                              "path": "$.attributes.stage[0].summary"
                            },
                            "type": "text",
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      },
                      {
                        "header": "Date",
                        "elements": [
                          {
                            "dependsOn": {
                              "path": "$.attributes.stage[0].summary"
                            },
                            "type": "datetime",
                            "value": {
                              "path": "$.date"
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                "meta": {
                  "rowThreshold": 15
                }
              },
              {
                "type": "table",
                "value": {
                  "path": "$.earliestGroupedMetastasis[*]",
                  "config": {
                    "cells": [
                      {
                        "header": "Metastasis",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      },
                      {
                        "header": "Date",
                        "elements": [
                          {
                            "type": "datetime",
                            "value": {
                              "path": "$.date"
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                "meta": {
                  "rowThreshold": 15
                }
              }
            ],
            "footer": {
              "reports": [],
              "timelineNavigation": []
            }
          }
        }
      ]
    },
    {
      "group": "diagnosis",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Stage"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "stage"
                },
                "type": "text"
              },
              [
                {
                  "type": "table",
                  "value": {
                    "path": "$.earliestGroupedPrimaryDiagnosis[*]",
                    "config": {
                      "cells": [
                        {
                          "header": "Category",
                          "elements": [
                            {
                              "dependsOn": {
                                "path": "$.attributes.stage[0].summary"
                              },
                              "type": "text",
                              "value": {
                                "string": "Stage"
                              }
                            }
                          ]
                        },
                        {
                          "header": "Value",
                          "elements": [
                            {
                              "dependsOn": {
                                "path": "$.attributes.stage[0].summary"
                              },
                              "type": "text",
                              "value": {
                                "path": "$.attributes.stage[0].summary",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        {
                          "header": "Date",
                          "elements": [
                            {
                              "dependsOn": {
                                "path": "$.attributes.stage[0].summary"
                              },
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  },
                  "meta": {
                    "rowThreshold": 15
                  }
                },
                {
                  "type": "table",
                  "value": {
                    "path": "$.[earliestNlpStageDocument,mostRecentNlpTnmDocument]",
                    "config": {
                      "cells": [
                        {
                          "header": "Category",
                          "elements": [
                            {
                              "type": "text",
                              "value": {
                                "string": "Stage"
                              },
                              "dependsOn": {
                                "path": "$.attributes.clpFindings[*].findings.PrimaryCancer_array[0].Staging_object[Stage_Group_str]"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "pTNM"
                              },
                              "dependsOn": {
                                "path": "$.attributes.clpFindings[?(@root.type === 'pathologyReport')].findings.PrimaryCancer_array[0].Staging_object[T_Stage_str,N_Stage_str,M_Stage_str]"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "cTNM"
                              },
                              "dependsOn": {
                                "path": "$.attributes.clpFindings[?(@root.type === 'clinicalNote' || @root.type === 'imagingReport')].findings.PrimaryCancer_array[0].Staging_object[T_Stage_str,N_Stage_str,M_Stage_str]"
                              }
                            }
                          ]
                        },
                        {
                          "header": "Value",
                          "elements": [
                            {
                              "type": "nlp",
                              "value": {
                                "sourceDocument": {
                                  "path": "$"
                                },
                                "clpFindings": {
                                  "path": "$.attributes.clpFindings[*].findings.PrimaryCancer_array[0].Staging_object[Stage_Group_str,T_Stage_str,N_Stage_str,M_Stage_str]"
                                }
                              }
                            }
                          ]
                        },
                        {
                          "header": "Date",
                          "elements": [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  },
                  "meta": {
                    "rowThreshold": 15
                  }
                }
              ]
            ],
            "footer": {
              "reports": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.[earliestNlpStageDocument,mostRecentNlpTnmDocument]",
                    "elements": {
                      "type": "link",
                      "dependsOn": {
                        "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^text\\/(html|plain)/))]"
                      },
                      "value": {
                        "label": {
                          "string": "{{reportTitle}} {{conclusionCode}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ],
                            "conclusionCode": {
                              "path": "$.attributes.conclusionCode",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "target": "internal",
                        "url": {
                          "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                          "params": {
                            "patientId": {
                              "path": "$.patientId"
                            },
                            "entityType": {
                              "path": "$.type"
                            },
                            "entityId": {
                              "path": "$.id"
                            }
                          }
                        }
                      },
                      "meta": {
                        "title": [
                          {
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText",
                                    "args": {
                                      "omitCode": true
                                    }
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.attachment[*].title",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].text",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].coding[*].display",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.context.procedure[*].code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          }
                        ],
                        "subTitle": {
                          "type": "list",
                          "value": {
                            "elements": [
                              [
                                {
                                  "type": "datetime",
                                  "value": {
                                    "path": "$.date"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No date"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.author[*].name[*]",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "humanName"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.organization[*].name"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No author"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.status"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No status"
                                  }
                                }
                              ]
                            ]
                          }
                        },
                        "date": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "type": "array",
                  "value": {
                    "path": "$.[earliestNlpStageDocument,mostRecentNlpTnmDocument]",
                    "elements": {
                      "type": "link",
                      "dependsOn": {
                        "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^(?!(^text\\/(html|plain)))/))]"
                      },
                      "value": {
                        "label": {
                          "string": "{{reportTitle}} {{conclusionCode}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ],
                            "conclusionCode": {
                              "path": "$.attributes.conclusionCode",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "icon": "ico-download",
                        "target": "internal",
                        "url": {
                          "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportInternalDownloadable.onco.general",
                          "params": {
                            "patientId": {
                              "path": "$.patientId"
                            },
                            "entityType": {
                              "path": "$.type"
                            },
                            "entityId": {
                              "path": "$.id"
                            }
                          }
                        }
                      },
                      "meta": {
                        "title": [
                          {
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText",
                                    "args": {
                                      "omitCode": true
                                    }
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.attachment[*].title",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].text",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].coding[*].display",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.context.procedure[*].code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          }
                        ],
                        "subTitle": {
                          "type": "list",
                          "value": {
                            "elements": [
                              [
                                {
                                  "type": "datetime",
                                  "value": {
                                    "path": "$.date"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No date"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.author[*].name[*]",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "humanName"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.organization[*].name"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No author"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.status"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No status"
                                  }
                                }
                              ]
                            ]
                          }
                        },
                        "date": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ],
              "timelineNavigation": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.[earliestNlpStageDocument,mostRecentNlpTnmDocument]",
                    "elements": {
                      "type": "twoColumn",
                      "dependsOn": {
                        "path": "$",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "exactDate"
                            }
                          }
                        ]
                      },
                      "value": {
                        "leftColumn": {
                          "type": "link",
                          "value": {
                            "label": {
                              "string": "{{reportTitle}} {{conclusionCode}}",
                              "params": {
                                "reportTitle": [
                                  {
                                    "path": "$.attributes.code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText",
                                          "args": {
                                            "omitCode": true
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.attachment[*].title",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.category[*].text",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.category[*].coding[*].display",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.context.procedure[*].code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText"
                                        }
                                      }
                                    ]
                                  }
                                ],
                                "conclusionCode": {
                                  "path": "$.attributes.conclusionCode",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText"
                                      }
                                    }
                                  ]
                                }
                              }
                            },
                            "target": "siteNavigation",
                            "url": {
                              "string": "/timeline/{{!id}}",
                              "params": {
                                "id": {
                                  "path": "$.id"
                                }
                              }
                            }
                          }
                        },
                        "rightColumn": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "diagnosis",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Key events"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "key events"
                },
                "type": "text"
              },
              {
                "value": {
                  "path": "$.cancerDiagnosisKeyEvents[*]",
                  "config": {
                    "cells": [
                      {
                        "header": "Event",
                        "elements": [
                          {
                            "type": "link",
                            "dependsOn": {
                              "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^text\\/(html|plain)/))]"
                            },
                            "value": {
                              "label": {
                                "string": "{{reportTitle}} {{conclusionCode}}",
                                "params": {
                                  "reportTitle": [
                                    {
                                      "path": "$.attributes.code",
                                      "postProcessing": [
                                        {
                                          "processor": {
                                            "name": "codeableConceptText",
                                            "args": {
                                              "omitCode": true
                                            }
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "path": "$.attributes.attachment[*].title",
                                      "postProcessing": [
                                        {
                                          "processor": {
                                            "name": "first"
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "path": "$.attributes.category[*].text",
                                      "postProcessing": [
                                        {
                                          "processor": {
                                            "name": "first"
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "path": "$.attributes.category[*].coding[*].display",
                                      "postProcessing": [
                                        {
                                          "processor": {
                                            "name": "first"
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "path": "$.attributes.context.procedure[*].code",
                                      "postProcessing": [
                                        {
                                          "processor": {
                                            "name": "codeableConceptText"
                                          }
                                        }
                                      ]
                                    }
                                  ],
                                  "conclusionCode": {
                                    "path": "$.attributes.conclusionCode",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText"
                                        }
                                      }
                                    ]
                                  }
                                }
                              },
                              "target": "internal",
                              "url": {
                                "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                                "params": {
                                  "patientId": {
                                    "path": "$.patientId"
                                  },
                                  "entityType": {
                                    "path": "$.type"
                                  },
                                  "entityId": {
                                    "path": "$.id"
                                  }
                                }
                              }
                            },
                            "meta": {
                              "title": [
                                {
                                  "value": {
                                    "path": "$.attributes.code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText",
                                          "args": {
                                            "omitCode": true
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  "type": "text"
                                },
                                {
                                  "value": {
                                    "path": "$.attributes.attachment[*].title",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  "type": "text"
                                },
                                {
                                  "value": {
                                    "path": "$.attributes.category[*].text",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  "type": "text"
                                },
                                {
                                  "value": {
                                    "path": "$.attributes.category[*].coding[*].display",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  "type": "text"
                                },
                                {
                                  "value": {
                                    "path": "$.attributes.context.procedure[*].code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText"
                                        }
                                      }
                                    ]
                                  },
                                  "type": "text"
                                }
                              ],
                              "subTitle": {
                                "type": "list",
                                "value": {
                                  "elements": [
                                    [
                                      {
                                        "type": "datetime",
                                        "value": {
                                          "path": "$.date"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "value": {
                                          "string": "No date"
                                        }
                                      }
                                    ],
                                    [
                                      {
                                        "type": "text",
                                        "value": {
                                          "path": "$.attributes.author[*].name[*]",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "humanName"
                                              }
                                            }
                                          ]
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "value": {
                                          "path": "$.attributes.organization[*].name"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "value": {
                                          "string": "No author"
                                        }
                                      }
                                    ],
                                    [
                                      {
                                        "type": "text",
                                        "value": {
                                          "path": "$.attributes.status"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "value": {
                                          "string": "No status"
                                        }
                                      }
                                    ]
                                  ]
                                }
                              },
                              "date": {
                                "type": "datetime",
                                "value": {
                                  "path": "$.date"
                                }
                              }
                            }
                          },
                          {
                            "type": "link",
                            "dependsOn": {
                              "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^(?!(^text\\/(html|plain)))/))]"
                            },
                            "value": {
                              "label": {
                                "string": "{{reportTitle}} {{conclusionCode}}",
                                "params": {
                                  "reportTitle": [
                                    {
                                      "path": "$.attributes.code",
                                      "postProcessing": [
                                        {
                                          "processor": {
                                            "name": "codeableConceptText",
                                            "args": {
                                              "omitCode": true
                                            }
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "path": "$.attributes.attachment[*].title",
                                      "postProcessing": [
                                        {
                                          "processor": {
                                            "name": "first"
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "path": "$.attributes.category[*].text",
                                      "postProcessing": [
                                        {
                                          "processor": {
                                            "name": "first"
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "path": "$.attributes.category[*].coding[*].display",
                                      "postProcessing": [
                                        {
                                          "processor": {
                                            "name": "first"
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "path": "$.attributes.context.procedure[*].code",
                                      "postProcessing": [
                                        {
                                          "processor": {
                                            "name": "codeableConceptText"
                                          }
                                        }
                                      ]
                                    }
                                  ],
                                  "conclusionCode": {
                                    "path": "$.attributes.conclusionCode",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText"
                                        }
                                      }
                                    ]
                                  }
                                }
                              },
                              "target": "download",
                              "icon": "ico-download",
                              "url": {
                                "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportDownloadable.onco.general",
                                "params": {
                                  "patientId": {
                                    "path": "$.patientId"
                                  },
                                  "entityType": {
                                    "path": "$.type"
                                  },
                                  "entityId": {
                                    "path": "$.id"
                                  }
                                }
                              }
                            },
                            "meta": {
                              "title": [
                                {
                                  "value": {
                                    "path": "$.attributes.code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText",
                                          "args": {
                                            "omitCode": true
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  "type": "text"
                                },
                                {
                                  "value": {
                                    "path": "$.attributes.attachment[*].title",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  "type": "text"
                                },
                                {
                                  "value": {
                                    "path": "$.attributes.category[*].text",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  "type": "text"
                                },
                                {
                                  "value": {
                                    "path": "$.attributes.category[*].coding[*].display",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  "type": "text"
                                },
                                {
                                  "value": {
                                    "path": "$.attributes.context.procedure[*].code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText"
                                        }
                                      }
                                    ]
                                  },
                                  "type": "text"
                                }
                              ],
                              "subTitle": {
                                "type": "list",
                                "value": {
                                  "elements": [
                                    [
                                      {
                                        "type": "datetime",
                                        "value": {
                                          "path": "$.date"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "value": {
                                          "string": "No date"
                                        }
                                      }
                                    ],
                                    [
                                      {
                                        "type": "text",
                                        "value": {
                                          "path": "$.attributes.author[*].name[*]",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "humanName"
                                              }
                                            }
                                          ]
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "value": {
                                          "path": "$.attributes.organization[*].name"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "value": {
                                          "string": "No author"
                                        }
                                      }
                                    ],
                                    [
                                      {
                                        "type": "text",
                                        "value": {
                                          "path": "$.attributes.status"
                                        }
                                      },
                                      {
                                        "type": "text",
                                        "value": {
                                          "string": "No status"
                                        }
                                      }
                                    ]
                                  ]
                                }
                              },
                              "date": {
                                "type": "datetime",
                                "value": {
                                  "path": "$.date"
                                }
                              }
                            }
                          },
                          [
                            {
                              "type": "text",
                              "dependsOn": {
                                "inverse": true,
                                "path": "$.attributes.attachment[?(@.contentType)]"
                              },
                              "value": {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "dependsOn": {
                                "inverse": true,
                                "path": "$.attributes.attachment[?(@.contentType)]"
                              },
                              "value": {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "dependsOn": {
                                "inverse": true,
                                "path": "$.attributes.attachment[?(@.contentType)]"
                              },
                              "value": {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "dependsOn": {
                                "inverse": true,
                                "path": "$.attributes.attachment[?(@.contentType)]"
                              },
                              "value": {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "dependsOn": {
                                "inverse": true,
                                "path": "$.attributes.attachment[?(@.contentType)]"
                              },
                              "value": {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "dependsOn": {
                                "inverse": true,
                                "path": "$.attributes.attachment[?(@.contentType)]"
                              },
                              "value": {
                                "path": "$.attributes.conclusionCode",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        ]
                      },
                      {
                        "header": "Status",
                        "elements": [
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.status"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No status"
                              }
                            }
                          ]
                        ]
                      },
                      {
                        "header": "Date",
                        "elements": [
                          [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No date"
                              }
                            }
                          ]
                        ]
                      }
                    ]
                  }
                },
                "type": "table",
                "meta": {
                  "rowThreshold": 15
                }
              }
            ],
            "footer": {
              "reports": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.cancerDiagnosisKeyEvents[*]",
                    "elements": {
                      "type": "link",
                      "dependsOn": {
                        "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^text\\/(html|plain)/))]"
                      },
                      "value": {
                        "label": {
                          "string": "{{reportTitle}} {{conclusionCode}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ],
                            "conclusionCode": {
                              "path": "$.attributes.conclusionCode",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "target": "internal",
                        "url": {
                          "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                          "params": {
                            "patientId": {
                              "path": "$.patientId"
                            },
                            "entityType": {
                              "path": "$.type"
                            },
                            "entityId": {
                              "path": "$.id"
                            }
                          }
                        }
                      },
                      "meta": {
                        "title": [
                          {
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText",
                                    "args": {
                                      "omitCode": true
                                    }
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.attachment[*].title",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].text",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].coding[*].display",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.context.procedure[*].code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          }
                        ],
                        "subTitle": {
                          "type": "list",
                          "value": {
                            "elements": [
                              [
                                {
                                  "type": "datetime",
                                  "value": {
                                    "path": "$.date"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No date"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.author[*].name[*]",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "humanName"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.organization[*].name"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No author"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.status"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No status"
                                  }
                                }
                              ]
                            ]
                          }
                        },
                        "date": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "type": "array",
                  "value": {
                    "path": "$.cancerDiagnosisKeyEvents[*]",
                    "elements": {
                      "type": "link",
                      "dependsOn": {
                        "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^(?!(^text\\/(html|plain)))/))]"
                      },
                      "value": {
                        "label": {
                          "string": "{{reportTitle}} {{conclusionCode}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ],
                            "conclusionCode": {
                              "path": "$.attributes.conclusionCode",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "target": "internal",
                        "icon": "ico-download",
                        "url": {
                          "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportInternalDownloadable.onco.general",
                          "params": {
                            "patientId": {
                              "path": "$.patientId"
                            },
                            "entityType": {
                              "path": "$.type"
                            },
                            "entityId": {
                              "path": "$.id"
                            }
                          }
                        }
                      },
                      "meta": {
                        "title": [
                          {
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText",
                                    "args": {
                                      "omitCode": true
                                    }
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.attachment[*].title",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].text",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].coding[*].display",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.context.procedure[*].code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          }
                        ],
                        "subTitle": {
                          "type": "list",
                          "value": {
                            "elements": [
                              [
                                {
                                  "type": "datetime",
                                  "value": {
                                    "path": "$.date"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No date"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.author[*].name[*]",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "humanName"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.organization[*].name"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No author"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.status"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No status"
                                  }
                                }
                              ]
                            ]
                          }
                        },
                        "date": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ],
              "timelineNavigation": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.cancerDiagnosisKeyEvents[*]",
                    "elements": {
                      "type": "twoColumn",
                      "dependsOn": {
                        "path": "$",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "exactDate"
                            }
                          }
                        ]
                      },
                      "value": {
                        "leftColumn": {
                          "type": "link",
                          "value": {
                            "label": {
                              "string": "{{reportTitle}} {{conclusionCode}}",
                              "params": {
                                "reportTitle": [
                                  {
                                    "path": "$.attributes.code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText",
                                          "args": {
                                            "omitCode": true
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.attachment[*].title",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.category[*].text",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.category[*].coding[*].display",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.context.procedure[*].code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText"
                                        }
                                      }
                                    ]
                                  }
                                ],
                                "conclusionCode": {
                                  "path": "$.attributes.conclusionCode",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText"
                                      }
                                    }
                                  ]
                                }
                              }
                            },
                            "target": "siteNavigation",
                            "url": {
                              "string": "/timeline/{{!id}}",
                              "params": {
                                "id": {
                                  "path": "$.id"
                                }
                              }
                            }
                          }
                        },
                        "rightColumn": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "molecularProfile",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Molecular profile"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "molecular profile"
                },
                "type": "text"
              },
              {
                "type": "table",
                "value": {
                  "path": "$.[genomicAndImmunologyMarkers,breastReceptorTumorMarkerTestResult]",
                  "config": {
                    "cells": [
                      {
                        "header": "Marker",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      },
                      {
                        "header": "Value",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "path": "$.attributes.value"
                            }
                          }
                        ]
                      },
                      {
                        "header": "Date",
                        "elements": [
                          {
                            "type": "datetime",
                            "value": {
                              "path": "$.date"
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                "meta": {
                  "rowThreshold": 15
                }
              },
              {
                "type": "table",
                "value": {
                  "path": "$.mostRecentNlpMammaPrintIndexResult[*]",
                  "config": {
                    "cells": [
                      {
                        "header": "Marker",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "string": "Mammaprint Index"
                            },
                            "dependsOn": {
                              "path": "$.attributes.clpFindings[*].findings.PrimaryCancer_array[*][MammaPrint_Index_str]"
                            }
                          }
                        ]
                      },
                      {
                        "header": "Value",
                        "elements": [
                          {
                            "type": "nlp",
                            "value": {
                              "sourceDocument": {
                                "path": "$"
                              },
                              "clpFindings": {
                                "path": "$.attributes.clpFindings[*].findings.PrimaryCancer_array[*].MammaPrint_Index_str"
                              }
                            }
                          }
                        ]
                      },
                      {
                        "header": "Date",
                        "elements": [
                          {
                            "type": "datetime",
                            "value": {
                              "path": "$.date"
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                "meta": {
                  "rowThreshold": 15
                }
              },
              {
                "type": "table",
                "value": {
                  "path": "$.mostRecentNlpOncoTypeResult[*]",
                  "config": {
                    "cells": [
                      {
                        "header": "Marker",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "string": "Oncotype Dx"
                            },
                            "dependsOn": {
                              "path": "$.attributes.clpFindings[*].findings.PrimaryCancer_array[*][Oncotype_Dx_str]"
                            }
                          }
                        ]
                      },
                      {
                        "header": "Value",
                        "elements": [
                          {
                            "type": "nlp",
                            "value": {
                              "sourceDocument": {
                                "path": "$"
                              },
                              "clpFindings": {
                                "path": "$.attributes.clpFindings[*].findings.PrimaryCancer_array[*].Oncotype_Dx_str"
                              }
                            }
                          }
                        ]
                      },
                      {
                        "header": "Date",
                        "elements": [
                          {
                            "type": "datetime",
                            "value": {
                              "path": "$.date"
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                "meta": {
                  "rowThreshold": 15
                }
              },
              {
                "type": "table",
                "value": {
                  "path": "$.mostRecentNlpNottinghamScore[*]",
                  "config": {
                    "cells": [
                      {
                        "header": "Marker",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "string": "Nottingham score"
                            },
                            "dependsOn": {
                              "path": "$.attributes.clpFindings[*].findings.PrimaryCancer_array[*].Grading_object[Nottingham_Grade_str]"
                            }
                          }
                        ]
                      },
                      {
                        "header": "Value",
                        "elements": [
                          {
                            "key": {
                              "string": "Nottingham score"
                            },
                            "value": {
                              "sourceDocument": {
                                "path": "$"
                              },
                              "clpFindings": {
                                "path": "$.attributes.clpFindings[*].findings.PrimaryCancer_array[*].Grading_object.Nottingham_Grade_str"
                              }
                            },
                            "type": "nlp"
                          }
                        ]
                      },
                      {
                        "header": "Date",
                        "elements": [
                          {
                            "type": "datetime",
                            "value": {
                              "path": "$.date"
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                "meta": {
                  "rowThreshold": 15
                }
              },
              {
                "type": "table",
                "value": {
                  "path": "$.mostRecentNlpKi67[*]",
                  "config": {
                    "cells": [
                      {
                        "header": "Marker",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "string": "Ki-67"
                            },
                            "dependsOn": {
                              "path": "$.attributes.clpFindings[*].findings.PrimaryCancer_array[*].Biomarkers_array[?(@.Biomarker_Name_str == 'Ki-67')][Biomarker_Value_str]"
                            }
                          }
                        ]
                      },
                      {
                        "header": "Value",
                        "elements": [
                          {
                            "key": {
                              "string": "Ki-67"
                            },
                            "value": {
                              "sourceDocument": {
                                "path": "$"
                              },
                              "clpFindings": {
                                "path": "$.attributes.clpFindings[*].findings.PrimaryCancer_array[*].Biomarkers_array[?(@.Biomarker_Name_str == 'Ki-67')][Biomarker_Value_str]"
                              }
                            },
                            "type": "nlp"
                          }
                        ]
                      },
                      {
                        "header": "Date",
                        "elements": [
                          {
                            "type": "datetime",
                            "value": {
                              "path": "$.date"
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                "meta": {
                  "rowThreshold": 15
                }
              }
            ],
            "footer": {
              "reports": [],
              "timelineNavigation": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.[genomicAndImmunologyMarkers,breastReceptorTumorMarkerTestResult][*]",
                    "elements": {
                      "type": "twoColumn",
                      "dependsOn": {
                        "path": "$",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "exactDate"
                            }
                          }
                        ]
                      },
                      "value": {
                        "leftColumn": {
                          "type": "link",
                          "value": {
                            "label": {
                              "string": "{{code}} {{value}}",
                              "params": {
                                "code": {
                                  "path": "$.attributes.code",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText"
                                      }
                                    }
                                  ]
                                },
                                "value": {
                                  "path": "$.attributes.value"
                                }
                              }
                            },
                            "target": "siteNavigation",
                            "url": {
                              "string": "/timeline/{{!id}}",
                              "params": {
                                "id": {
                                  "path": "$.id"
                                }
                              }
                            }
                          }
                        },
                        "rightColumn": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "mostRecentImaging",
      "elements": [
        {
          "type": "card",
          "dependsOn": {
            "path": "$.mostRecentImaging",
            "inverse": true
          },
          "value": {
            "content": [
              {
                "value": {
                  "string": "Imaging - most recent"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "imaging"
                },
                "type": "text"
              }
            ],
            "footer": {
              "reports": [],
              "timelineNavigation": []
            }
          }
        }
      ]
    },
    {
      "group": "mostRecentImaging",
      "sources": "$.mostRecentImaging[*]",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Imaging - most recent"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "imaging"
                },
                "type": "text"
              },
              [
                {
                  "value": {
                    "path": "$.attributes.code",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "codeableConceptText",
                          "args": {
                            "omitCode": true
                          }
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.attachment[*].title",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "first"
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.category[*].text",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "first"
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.category[*].coding[*].display",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "first"
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.context.procedure[*].code",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "codeableConceptText"
                        }
                      }
                    ]
                  },
                  "type": "text"
                }
              ],
              {
                "value": {
                  "sourceDocument": {
                    "path": "$"
                  },
                  "clpFindings": {
                    "path": "$.attributes.aiSummary.l2"
                  }
                },
                "type": "nlp"
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Date"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.date"
                    },
                    "type": "datetime"
                  }
                },
                "type": "twoColumn"
              },
              {
                "value": {
                  "icon": "ico-ct",
                  "label": {
                    "string": "Open images"
                  },
                  "url": {
                    "string": "{{url}}",
                    "params": {
                      "url": [
                        {
                          "path": "$.attributes.imagingStudy[0].identifier",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "dicomViewerUrl",
                                "args": {
                                  "imagingParameters": [
                                    {
                                      "name": "acsn",
                                      "path": "$[*].type.coding[?(@.code === 'ACSN')]^^^.value"
                                    }
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        {
                          "path": "$.attributes.identifier",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "dicomViewerUrl",
                                "args": {
                                  "imagingParameters": [
                                    {
                                      "name": "acsn",
                                      "path": "$[*].type.coding[?(@.code === 'ACSN')]^^^.value"
                                    }
                                  ]
                                }
                              }
                            }
                          ]
                        }
                      ]
                    }
                  },
                  "target": "iFrame"
                },
                "type": "link",
                "meta": {
                  "title": [
                    {
                      "value": {
                        "path": "$.attributes.code",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "codeableConceptText",
                              "args": {
                                "omitCode": true
                              }
                            }
                          }
                        ]
                      },
                      "type": "text"
                    },
                    {
                      "value": {
                        "path": "$.attributes.attachment[*].title",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "first"
                            }
                          }
                        ]
                      },
                      "type": "text"
                    },
                    {
                      "value": {
                        "path": "$.attributes.category[*].text",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "first"
                            }
                          }
                        ]
                      },
                      "type": "text"
                    },
                    {
                      "value": {
                        "path": "$.attributes.category[*].coding[*].display",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "first"
                            }
                          }
                        ]
                      },
                      "type": "text"
                    },
                    {
                      "value": {
                        "path": "$.attributes.context.procedure[*].code",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "codeableConceptText"
                            }
                          }
                        ]
                      },
                      "type": "text"
                    }
                  ],
                  "subTitle": {
                    "type": "list",
                    "value": {
                      "elements": [
                        {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      ]
                    }
                  },
                  "date": {
                    "type": "datetime",
                    "value": {
                      "path": "$.date"
                    }
                  }
                }
              }
            ],
            "footer": {
              "reports": [
                {
                  "type": "link",
                  "dependsOn": {
                    "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^text\\/(html|plain)/))]"
                  },
                  "value": {
                    "label": {
                      "string": "{{reportTitle}} {{conclusionCode}}",
                      "params": {
                        "reportTitle": [
                          {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.context.procedure[*].code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText"
                                }
                              }
                            ]
                          }
                        ],
                        "conclusionCode": {
                          "path": "$.attributes.conclusionCode",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      }
                    },
                    "target": "internal",
                    "url": {
                      "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                      "params": {
                        "patientId": {
                          "path": "$.patientId"
                        },
                        "entityType": {
                          "path": "$.type"
                        },
                        "entityId": {
                          "path": "$.id"
                        }
                      }
                    }
                  },
                  "meta": {
                    "title": [
                      {
                        "value": {
                          "path": "$.attributes.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText",
                                "args": {
                                  "omitCode": true
                                }
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.attachment[*].title",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].text",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].coding[*].display",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.context.procedure[*].code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      }
                    ],
                    "subTitle": {
                      "type": "list",
                      "value": {
                        "elements": [
                          [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No date"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.author[*].name[*]",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "humanName"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.organization[*].name"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No author"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.status"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No status"
                              }
                            }
                          ]
                        ]
                      }
                    },
                    "date": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                },
                {
                  "type": "link",
                  "dependsOn": {
                    "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^(?!(^text\\/(html|plain)))/))]"
                  },
                  "value": {
                    "label": {
                      "string": "{{reportTitle}} {{conclusionCode}}",
                      "params": {
                        "reportTitle": [
                          {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.context.procedure[*].code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText"
                                }
                              }
                            ]
                          }
                        ],
                        "conclusionCode": {
                          "path": "$.attributes.conclusionCode",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      }
                    },
                    "target": "internal",
                    "icon": "ico-download",
                    "url": {
                      "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportInternalDownloadable.onco.general",
                      "params": {
                        "patientId": {
                          "path": "$.patientId"
                        },
                        "entityType": {
                          "path": "$.type"
                        },
                        "entityId": {
                          "path": "$.id"
                        }
                      }
                    }
                  },
                  "meta": {
                    "title": [
                      {
                        "value": {
                          "path": "$.attributes.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText",
                                "args": {
                                  "omitCode": true
                                }
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.attachment[*].title",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].text",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].coding[*].display",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.context.procedure[*].code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      }
                    ],
                    "subTitle": {
                      "type": "list",
                      "value": {
                        "elements": [
                          [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No date"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.author[*].name[*]",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "humanName"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.organization[*].name"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No author"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.status"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No status"
                              }
                            }
                          ]
                        ]
                      }
                    },
                    "date": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ],
              "timelineNavigation": [
                {
                  "type": "twoColumn",
                  "dependsOn": {
                    "path": "$",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "exactDate"
                        }
                      }
                    ]
                  },
                  "value": {
                    "leftColumn": {
                      "type": "link",
                      "value": {
                        "label": {
                          "string": "{{reportTitle}} {{conclusionCode}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ],
                            "conclusionCode": {
                              "path": "$.attributes.conclusionCode",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "target": "siteNavigation",
                        "url": {
                          "string": "/timeline/{{!id}}",
                          "params": {
                            "id": {
                              "path": "$.id"
                            }
                          }
                        }
                      }
                    },
                    "rightColumn": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "mostRecentImaging",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Imaging history"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "imaging history"
                },
                "type": "text"
              },
              {
                "value": {
                  "path": "$.imagingReportsFromLastThreeMonths[*]",
                  "postProcessing": [
                    {
                      "processor": {
                        "name": "fromLastThreeMonthsDateRangeText"
                      }
                    }
                  ]
                },
                "type": "dateRange"
              },
              {
                "type": "list",
                "value": {
                  "elements": [
                    {
                      "value": {
                        "path": "$.imagingReportsFromLastThreeMonths[*]",
                        "elements": {
                          "value": {
                            "leftColumn": [
                              {
                                "value": {
                                  "label": {
                                    "string": "{{reportTitle}}",
                                    "params": {
                                      "reportTitle": [
                                        {
                                          "path": "$.attributes.code",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "codeableConceptText",
                                                "args": {
                                                  "omitCode": true
                                                }
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "path": "$.attributes.attachment[*].title",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "first"
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "path": "$.attributes.category[*].text",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "first"
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "path": "$.attributes.category[*].coding[*].display",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "first"
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "path": "$.attributes.context.procedure[*].code",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "codeableConceptText"
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  "url": {
                                    "string": "{{url}}",
                                    "params": {
                                      "url": [
                                        {
                                          "path": "$.attributes.imagingStudy[0].identifier",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "dicomViewerUrl",
                                                "args": {
                                                  "imagingParameters": [
                                                    {
                                                      "name": "acsn",
                                                      "path": "$[*].type.coding[?(@.code === 'ACSN')]^^^.value"
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "path": "$.attributes.identifier",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "dicomViewerUrl",
                                                "args": {
                                                  "imagingParameters": [
                                                    {
                                                      "name": "acsn",
                                                      "path": "$[*].type.coding[?(@.code === 'ACSN')]^^^.value"
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  "target": "iFrame"
                                },
                                "type": "link",
                                "meta": {
                                  "title": [
                                    {
                                      "value": {
                                        "path": "$.attributes.code",
                                        "postProcessing": [
                                          {
                                            "processor": {
                                              "name": "codeableConceptText",
                                              "args": {
                                                "omitCode": true
                                              }
                                            }
                                          }
                                        ]
                                      },
                                      "type": "text"
                                    },
                                    {
                                      "value": {
                                        "path": "$.attributes.attachment[*].title",
                                        "postProcessing": [
                                          {
                                            "processor": {
                                              "name": "first"
                                            }
                                          }
                                        ]
                                      },
                                      "type": "text"
                                    },
                                    {
                                      "value": {
                                        "path": "$.attributes.category[*].text",
                                        "postProcessing": [
                                          {
                                            "processor": {
                                              "name": "first"
                                            }
                                          }
                                        ]
                                      },
                                      "type": "text"
                                    },
                                    {
                                      "value": {
                                        "path": "$.attributes.category[*].coding[*].display",
                                        "postProcessing": [
                                          {
                                            "processor": {
                                              "name": "first"
                                            }
                                          }
                                        ]
                                      },
                                      "type": "text"
                                    },
                                    {
                                      "value": {
                                        "path": "$.attributes.context.procedure[*].code",
                                        "postProcessing": [
                                          {
                                            "processor": {
                                              "name": "codeableConceptText"
                                            }
                                          }
                                        ]
                                      },
                                      "type": "text"
                                    }
                                  ],
                                  "subTitle": {
                                    "type": "list",
                                    "value": {
                                      "elements": [
                                        {
                                          "type": "datetime",
                                          "value": {
                                            "path": "$.date"
                                          }
                                        }
                                      ]
                                    }
                                  },
                                  "date": {
                                    "type": "datetime",
                                    "value": {
                                      "path": "$.date"
                                    }
                                  }
                                }
                              },
                              {
                                "value": {
                                  "path": "$.attributes.code",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText",
                                        "args": {
                                          "omitCode": true
                                        }
                                      }
                                    }
                                  ]
                                },
                                "type": "text"
                              },
                              {
                                "value": {
                                  "path": "$.attributes.attachment[*].title",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "first"
                                      }
                                    }
                                  ]
                                },
                                "type": "text"
                              },
                              {
                                "value": {
                                  "path": "$.attributes.category[*].text",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "first"
                                      }
                                    }
                                  ]
                                },
                                "type": "text"
                              },
                              {
                                "value": {
                                  "path": "$.attributes.category[*].coding[*].display",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "first"
                                      }
                                    }
                                  ]
                                },
                                "type": "text"
                              },
                              {
                                "value": {
                                  "path": "$.attributes.context.procedure[*].code",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText"
                                      }
                                    }
                                  ]
                                },
                                "type": "text"
                              }
                            ],
                            "rightColumn": {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            }
                          },
                          "type": "twoColumn"
                        }
                      },
                      "type": "array"
                    }
                  ]
                },
                "meta": {
                  "rowThreshold": 15
                }
              }
            ],
            "footer": {
              "reports": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.imagingReportsFromLastThreeMonths[*]",
                    "elements": {
                      "type": "link",
                      "dependsOn": {
                        "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^text\\/(html|plain)/))]"
                      },
                      "value": {
                        "label": {
                          "string": "{{reportTitle}} {{conclusionCode}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ],
                            "conclusionCode": {
                              "path": "$.attributes.conclusionCode",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "target": "internal",
                        "url": {
                          "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                          "params": {
                            "patientId": {
                              "path": "$.patientId"
                            },
                            "entityType": {
                              "path": "$.type"
                            },
                            "entityId": {
                              "path": "$.id"
                            }
                          }
                        }
                      },
                      "meta": {
                        "title": [
                          {
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText",
                                    "args": {
                                      "omitCode": true
                                    }
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.attachment[*].title",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].text",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].coding[*].display",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.context.procedure[*].code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          }
                        ],
                        "subTitle": {
                          "type": "list",
                          "value": {
                            "elements": [
                              [
                                {
                                  "type": "datetime",
                                  "value": {
                                    "path": "$.date"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No date"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.author[*].name[*]",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "humanName"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.organization[*].name"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No author"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.status"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No status"
                                  }
                                }
                              ]
                            ]
                          }
                        },
                        "date": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "type": "array",
                  "value": {
                    "path": "$.imagingReportsFromLastThreeMonths[*]",
                    "elements": {
                      "type": "link",
                      "dependsOn": {
                        "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^(?!(^text\\/(html|plain)))/))]"
                      },
                      "value": {
                        "label": {
                          "string": "{{reportTitle}} {{conclusionCode}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ],
                            "conclusionCode": {
                              "path": "$.attributes.conclusionCode",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "target": "internal",
                        "icon": "ico-download",
                        "url": {
                          "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportInternalDownloadable.onco.general",
                          "params": {
                            "patientId": {
                              "path": "$.patientId"
                            },
                            "entityType": {
                              "path": "$.type"
                            },
                            "entityId": {
                              "path": "$.id"
                            }
                          }
                        }
                      },
                      "meta": {
                        "title": [
                          {
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText",
                                    "args": {
                                      "omitCode": true
                                    }
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.attachment[*].title",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].text",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].coding[*].display",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.context.procedure[*].code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          }
                        ],
                        "subTitle": {
                          "type": "list",
                          "value": {
                            "elements": [
                              [
                                {
                                  "type": "datetime",
                                  "value": {
                                    "path": "$.date"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No date"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.author[*].name[*]",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "humanName"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.organization[*].name"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No author"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.status"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No status"
                                  }
                                }
                              ]
                            ]
                          }
                        },
                        "date": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ],
              "timelineNavigation": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.imagingReportsFromLastThreeMonths[*]",
                    "elements": {
                      "type": "twoColumn",
                      "dependsOn": {
                        "path": "$",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "exactDate"
                            }
                          }
                        ]
                      },
                      "value": {
                        "leftColumn": {
                          "type": "link",
                          "value": {
                            "label": {
                              "string": "{{reportTitle}} {{conclusionCode}}",
                              "params": {
                                "reportTitle": [
                                  {
                                    "path": "$.attributes.code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText",
                                          "args": {
                                            "omitCode": true
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.attachment[*].title",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.category[*].text",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.category[*].coding[*].display",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.context.procedure[*].code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText"
                                        }
                                      }
                                    ]
                                  }
                                ],
                                "conclusionCode": {
                                  "path": "$.attributes.conclusionCode",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText"
                                      }
                                    }
                                  ]
                                }
                              }
                            },
                            "target": "siteNavigation",
                            "url": {
                              "string": "/timeline/{{!id}}",
                              "params": {
                                "id": {
                                  "path": "$.id"
                                }
                              }
                            }
                          }
                        },
                        "rightColumn": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "mostRecentErVisit",
      "sources": "$.mostRecentERVisit[*]",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "ER visit - most recent"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "ER visit"
                },
                "type": "text"
              },
              [
                {
                  "value": {
                    "path": "$.attributes.serviceType",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "codeableConceptText"
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.type",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "codeableConceptText"
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.class",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "codingText"
                        }
                      }
                    ]
                  },
                  "type": "text"
                }
              ],
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Chief complaint"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.attributes.reason",
                      "postProcessing": [
                        {
                          "processor": {
                            "name": "codeableConceptText"
                          }
                        }
                      ]
                    },
                    "type": "text"
                  }
                },
                "type": "twoColumn"
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Diagnosis"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.attributes.diagnosis",
                      "postProcessing": [
                        {
                          "processor": {
                            "name": "codeableConceptText"
                          }
                        }
                      ]
                    },
                    "type": "text"
                  }
                },
                "type": "twoColumn"
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Discharge instructions"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.attributes.dischargeDisposition",
                      "postProcessing": [
                        {
                          "processor": {
                            "name": "codeableConceptText"
                          }
                        }
                      ]
                    },
                    "type": "text"
                  }
                },
                "type": "twoColumn"
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Date"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.date"
                    },
                    "type": "datetime"
                  }
                },
                "type": "twoColumn"
              }
            ],
            "footer": {
              "reports": [],
              "timelineNavigation": [
                {
                  "type": "twoColumn",
                  "dependsOn": {
                    "path": "$",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "exactDate"
                        }
                      }
                    ]
                  },
                  "value": {
                    "leftColumn": {
                      "type": "link",
                      "value": {
                        "label": {
                          "string": "{{title}}",
                          "params": {
                            "title": [
                              {
                                "path": "$.attributes.serviceType",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.type",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.class",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codingText"
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        "target": "siteNavigation",
                        "url": {
                          "string": "/timeline/{{!id}}",
                          "params": {
                            "id": {
                              "path": "$.id"
                            }
                          }
                        }
                      }
                    },
                    "rightColumn": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "mostRecentMdtReport",
      "elements": [
        {
          "type": "card",
          "dependsOn": {
            "path": "$.mostRecentMDTReport",
            "inverse": true
          },
          "value": {
            "content": [
              {
                "value": {
                  "string": "MDT report - most recent"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "MDT report"
                },
                "type": "text"
              }
            ],
            "footer": {
              "reports": [],
              "timelineNavigation": []
            }
          }
        }
      ]
    },
    {
      "group": "mostRecentMdtReport",
      "sources": "$.mostRecentMDTReport[*]",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "MDT report - most recent"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "MDT report"
                },
                "type": "text"
              },
              [
                {
                  "value": {
                    "path": "$.attributes.code",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "codeableConceptText",
                          "args": {
                            "omitCode": true
                          }
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.attachment[*].title",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "first"
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.category[*].text",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "first"
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.category[*].coding[*].display",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "first"
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.context.procedure[*].code",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "codeableConceptText"
                        }
                      }
                    ]
                  },
                  "type": "text"
                }
              ],
              {
                "value": {
                  "sourceDocument": {
                    "path": "$"
                  },
                  "clpFindings": {
                    "path": "$.attributes.aiSummary.l2"
                  }
                },
                "type": "nlp"
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Date"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.date"
                    },
                    "type": "datetime"
                  }
                },
                "type": "twoColumn"
              }
            ],
            "footer": {
              "reports": [
                {
                  "type": "link",
                  "dependsOn": {
                    "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^text\\/(html|plain)/))]"
                  },
                  "value": {
                    "label": {
                      "string": "{{reportTitle}}",
                      "params": {
                        "reportTitle": [
                          {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.context.procedure[*].code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText"
                                }
                              }
                            ]
                          }
                        ]
                      }
                    },
                    "target": "internal",
                    "url": {
                      "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                      "params": {
                        "patientId": {
                          "path": "$.patientId"
                        },
                        "entityType": {
                          "path": "$.type"
                        },
                        "entityId": {
                          "path": "$.id"
                        }
                      }
                    }
                  },
                  "meta": {
                    "title": [
                      {
                        "value": {
                          "path": "$.attributes.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText",
                                "args": {
                                  "omitCode": true
                                }
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.attachment[*].title",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].text",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].coding[*].display",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.context.procedure[*].code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      }
                    ],
                    "subTitle": {
                      "type": "list",
                      "value": {
                        "elements": [
                          [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No date"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.author[*].name[*]",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "humanName"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.organization[*].name"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No author"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.status"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No status"
                              }
                            }
                          ]
                        ]
                      }
                    },
                    "date": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                },
                {
                  "type": "link",
                  "dependsOn": {
                    "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^(?!(^text\\/(html|plain)))/))]"
                  },
                  "value": {
                    "label": {
                      "string": "{{reportTitle}}",
                      "params": {
                        "reportTitle": [
                          {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.context.procedure[*].code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText"
                                }
                              }
                            ]
                          }
                        ]
                      }
                    },
                    "target": "internal",
                    "icon": "ico-download",
                    "url": {
                      "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportInternalDownloadable.onco.general",
                      "params": {
                        "patientId": {
                          "path": "$.patientId"
                        },
                        "entityType": {
                          "path": "$.type"
                        },
                        "entityId": {
                          "path": "$.id"
                        }
                      }
                    }
                  },
                  "meta": {
                    "title": [
                      {
                        "value": {
                          "path": "$.attributes.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText",
                                "args": {
                                  "omitCode": true
                                }
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.attachment[*].title",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].text",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].coding[*].display",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.context.procedure[*].code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      }
                    ],
                    "subTitle": {
                      "type": "list",
                      "value": {
                        "elements": [
                          [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No date"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.author[*].name[*]",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "humanName"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.organization[*].name"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No author"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.status"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No status"
                              }
                            }
                          ]
                        ]
                      }
                    },
                    "date": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ],
              "timelineNavigation": [
                {
                  "type": "twoColumn",
                  "dependsOn": {
                    "path": "$",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "exactDate"
                        }
                      }
                    ]
                  },
                  "value": {
                    "leftColumn": {
                      "type": "link",
                      "value": {
                        "label": {
                          "string": "{{reportTitle}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        "target": "siteNavigation",
                        "url": {
                          "string": "/timeline/{{!id}}",
                          "params": {
                            "id": {
                              "path": "$.id"
                            }
                          }
                        }
                      }
                    },
                    "rightColumn": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "treatments",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Systemic therapy"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "systemic therapy"
                },
                "type": "text"
              },
              {
                "type": "indicator",
                "value": {
                  "icon": {
                    "string": "ico-intra-van"
                  },
                  "paletteColor": {
                    "string": "5"
                  },
                  "message": {
                    "path": "$.systemicTherapies[0].attributes.cycle"
                  }
                }
              },
              {
                "type": "table",
                "value": {
                  "path": "$.systemicTherapies",
                  "config": {
                    "cells": [
                      {
                        "header": "Drug",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      },
                      {
                        "header": "Dose",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "path": "$.attributes.dosage[*]",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "orderedDosageText"
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "type": "indicator",
                            "value": {
                              "icon": {
                                "string": "ico-minus-plus"
                              },
                              "paletteColor": {
                                "string": "11"
                              },
                              "message": {
                                "path": "$.attributes.doseChange"
                              }
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                "meta": {
                  "rowThreshold": 15
                }
              },
              {
                "type": "twoColumn",
                "value": {
                  "leftColumn": {
                    "type": "text",
                    "value": {
                      "string": "Date"
                    }
                  },
                  "rightColumn": {
                    "type": "datetime",
                    "value": {
                      "path": "$.systemicTherapies[0].date"
                    }
                  }
                }
              },
              {
                "type": "twoColumn",
                "value": {
                  "leftColumn": {
                    "type": "text",
                    "value": {
                      "string": "Start of therapy"
                    }
                  },
                  "rightColumn": {
                    "type": "datetime",
                    "value": {
                      "path": "$.systemicTherapies[0].attributes.regimen.period.start"
                    }
                  }
                }
              },
              {
                "type": "twoColumn",
                "value": {
                  "leftColumn": {
                    "type": "text",
                    "value": {
                      "string": "End of therapy"
                    }
                  },
                  "rightColumn": {
                    "type": "datetime",
                    "value": {
                      "path": "$.systemicTherapies[0].attributes.regimen.period.end"
                    }
                  }
                }
              }
            ],
            "footer": {
              "reports": [],
              "timelineNavigation": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.systemicTherapies[*]",
                    "elements": {
                      "type": "twoColumn",
                      "dependsOn": {
                        "path": "$",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "exactDate"
                            }
                          }
                        ]
                      },
                      "value": {
                        "leftColumn": {
                          "type": "link",
                          "value": {
                            "label": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            },
                            "target": "siteNavigation",
                            "url": {
                              "string": "/timeline/{{!id}}",
                              "params": {
                                "id": {
                                  "path": "$.id"
                                }
                              }
                            }
                          }
                        },
                        "rightColumn": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "treatments",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Radiation"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "radiation therapy"
                },
                "type": "text"
              },
              {
                "value": {
                  "string": "Most recent procedure"
                },
                "type": "text",
                "dependsOn": {
                  "path": "$.mostRecentRadioTherapyProcedure[0]"
                }
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "path": "$.mostRecentRadioTherapyProcedure[0].attributes.code",
                      "postProcessing": [
                        {
                          "processor": {
                            "name": "codeableConceptText"
                          }
                        }
                      ]
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.mostRecentRadioTherapyProcedure[0].date"
                    },
                    "type": "datetime"
                  }
                },
                "type": "twoColumn"
              },
              {
                "value": {
                  "string": "Start of therapy"
                },
                "type": "text",
                "dependsOn": {
                  "path": "$.leastRecentRadioTherapyProcedure[0]"
                }
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "path": "$.leastRecentRadioTherapyProcedure[0].attributes.code",
                      "postProcessing": [
                        {
                          "processor": {
                            "name": "codeableConceptText"
                          }
                        }
                      ]
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.leastRecentRadioTherapyProcedure[0].date"
                    },
                    "type": "datetime"
                  }
                },
                "type": "twoColumn"
              }
            ],
            "footer": {
              "reports": [],
              "timelineNavigation": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.[leastRecentRadioTherapyProcedure,mostRecentRadioTherapyProcedure]",
                    "elements": {
                      "type": "twoColumn",
                      "dependsOn": {
                        "path": "$",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "exactDate"
                            }
                          }
                        ]
                      },
                      "value": {
                        "leftColumn": {
                          "type": "link",
                          "value": {
                            "label": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            },
                            "target": "siteNavigation",
                            "url": {
                              "string": "/timeline/{{!id}}",
                              "params": {
                                "id": {
                                  "path": "$.id"
                                }
                              }
                            }
                          }
                        },
                        "rightColumn": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "treatments",
      "sources": "$.radiotherapyCourseSummary[*]",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Radiation therapy"
                },
                "meta": {
                  "title": true
                },
                "type": "text"
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Site of therapy"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.attributes.bodySite",
                      "postProcessing": [
                        {
                          "processor": {
                            "name": "codeableConceptText"
                          }
                        }
                      ]
                    },
                    "type": "text"
                  }
                },
                "type": "twoColumn"
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Number of sessions"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.attributes.sessions"
                    },
                    "type": "text"
                  }
                },
                "type": "twoColumn"
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Phases"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.attributes.phases.length"
                    },
                    "type": "text"
                  }
                },
                "type": "twoColumn"
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Modalities"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.attributes.modalities",
                      "postProcessing": [
                        {
                          "processor": {
                            "name": "codeableConceptText"
                          }
                        }
                      ]
                    },
                    "type": "text"
                  }
                },
                "type": "twoColumn"
              },
              {
                "type": "table",
                "value": {
                  "path": "$.attributes.phases",
                  "config": {
                    "cells": [
                      {
                        "header": "Body Site",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "path": "$.bodyStructure.description"
                            }
                          }
                        ]
                      },
                      {
                        "header": "Fractions",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "path": "$.numberOfFractions"
                            }
                          }
                        ]
                      },
                      {
                        "header": "Dose Delivered",
                        "elements": [
                          {
                            "type": "text",
                            "value": {
                              "path": "$.totalDose",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "quantityText"
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                "meta": {
                  "rowThreshold": 15
                }
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Start of therapy"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.attributes.performedPeriod.start"
                    },
                    "type": "datetime"
                  }
                },
                "type": "twoColumn"
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "End of therapy"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.attributes.performedPeriod.end"
                    },
                    "type": "datetime"
                  }
                },
                "type": "twoColumn"
              }
            ],
            "footer": {
              "reports": [],
              "timelineNavigation": [
                {
                  "type": "twoColumn",
                  "dependsOn": {
                    "path": "$",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "exactDate"
                        }
                      }
                    ]
                  },
                  "value": {
                    "leftColumn": {
                      "type": "link",
                      "value": {
                        "label": {
                          "path": "$.attributes.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "target": "siteNavigation",
                        "url": {
                          "string": "/timeline/{{!id}}",
                          "params": {
                            "id": {
                              "path": "$.id"
                            }
                          }
                        }
                      }
                    },
                    "rightColumn": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "treatments",
      "sources": "$.radiotherapySummaryNote[*]",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Radiation therapy"
                },
                "meta": {
                  "title": true
                },
                "type": "text"
              },
              {
                "value": {
                  "leftColumn": {
                    "type": "link",
                    "dependsOn": {
                      "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^text\\/(html|plain)/))]"
                    },
                    "value": {
                      "label": {
                        "string": "{{reportTitle}}",
                        "params": {
                          "reportTitle": [
                            {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText",
                                    "args": {
                                      "omitCode": true
                                    }
                                  }
                                }
                              ]
                            },
                            {
                              "path": "$.attributes.attachment[*].title",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            {
                              "path": "$.attributes.category[*].text",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            {
                              "path": "$.attributes.category[*].coding[*].display",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            }
                          ]
                        }
                      },
                      "url": {
                        "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                        "params": {
                          "patientId": {
                            "path": "$.patientId"
                          },
                          "entityType": {
                            "path": "$.type"
                          },
                          "entityId": {
                            "path": "$.id"
                          }
                        }
                      },
                      "target": "internal"
                    },
                    "meta": {
                      "title": [
                        {
                          "value": {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          "type": "text"
                        },
                        {
                          "value": {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          "type": "text"
                        },
                        {
                          "value": {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          "type": "text"
                        },
                        {
                          "value": {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          "type": "text"
                        }
                      ],
                      "subTitle": {
                        "type": "list",
                        "value": {
                          "elements": [
                            [
                              {
                                "type": "datetime",
                                "value": {
                                  "path": "$.date"
                                }
                              },
                              {
                                "type": "text",
                                "value": {
                                  "string": "No date"
                                }
                              }
                            ],
                            [
                              {
                                "type": "text",
                                "value": {
                                  "path": "$.attributes.author[*].name[*]",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "humanName"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "type": "text",
                                "value": {
                                  "path": "$.attributes.organization[*].name"
                                }
                              },
                              {
                                "type": "text",
                                "value": {
                                  "string": "No author"
                                }
                              }
                            ],
                            [
                              {
                                "type": "text",
                                "value": {
                                  "path": "$.attributes.status"
                                }
                              },
                              {
                                "type": "text",
                                "value": {
                                  "string": "No status"
                                }
                              }
                            ]
                          ]
                        }
                      },
                      "date": {
                        "type": "datetime",
                        "value": {
                          "path": "$.date"
                        }
                      }
                    }
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.date"
                    },
                    "type": "datetime"
                  }
                },
                "type": "twoColumn"
              },
              {
                "value": {
                  "leftColumn": {
                    "type": "link",
                    "dependsOn": {
                      "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^(?!(^text\\/(html|plain)))/))]"
                    },
                    "value": {
                      "label": {
                        "string": "{{reportTitle}}",
                        "params": {
                          "reportTitle": [
                            {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText",
                                    "args": {
                                      "omitCode": true
                                    }
                                  }
                                }
                              ]
                            },
                            {
                              "path": "$.attributes.attachment[*].title",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            {
                              "path": "$.attributes.category[*].text",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            {
                              "path": "$.attributes.category[*].coding[*].display",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            }
                          ]
                        }
                      },
                      "url": {
                        "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                        "params": {
                          "patientId": {
                            "path": "$.patientId"
                          },
                          "entityType": {
                            "path": "$.type"
                          },
                          "entityId": {
                            "path": "$.id"
                          }
                        }
                      },
                      "icon": "ico-download",
                      "target": "download"
                    },
                    "meta": {
                      "title": [
                        {
                          "value": {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          "type": "text"
                        },
                        {
                          "value": {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          "type": "text"
                        },
                        {
                          "value": {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          "type": "text"
                        },
                        {
                          "value": {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          "type": "text"
                        }
                      ],
                      "subTitle": {
                        "type": "list",
                        "value": {
                          "elements": [
                            [
                              {
                                "type": "datetime",
                                "value": {
                                  "path": "$.date"
                                }
                              },
                              {
                                "type": "text",
                                "value": {
                                  "string": "No date"
                                }
                              }
                            ],
                            [
                              {
                                "type": "text",
                                "value": {
                                  "path": "$.attributes.author[*].name[*]",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "humanName"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "type": "text",
                                "value": {
                                  "path": "$.attributes.organization[*].name"
                                }
                              },
                              {
                                "type": "text",
                                "value": {
                                  "string": "No author"
                                }
                              }
                            ],
                            [
                              {
                                "type": "text",
                                "value": {
                                  "path": "$.attributes.status"
                                }
                              },
                              {
                                "type": "text",
                                "value": {
                                  "string": "No status"
                                }
                              }
                            ]
                          ]
                        }
                      },
                      "date": {
                        "type": "datetime",
                        "value": {
                          "path": "$.date"
                        }
                      }
                    }
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.date"
                    },
                    "type": "datetime"
                  }
                },
                "type": "twoColumn"
              }
            ],
            "footer": {
              "reports": [
                {
                  "type": "link",
                  "dependsOn": {
                    "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^text\\/(html|plain)/))]"
                  },
                  "value": {
                    "label": {
                      "string": "{{reportTitle}}",
                      "params": {
                        "reportTitle": [
                          {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          }
                        ]
                      }
                    },
                    "target": "internal",
                    "url": {
                      "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                      "params": {
                        "patientId": {
                          "path": "$.patientId"
                        },
                        "entityType": {
                          "path": "$.type"
                        },
                        "entityId": {
                          "path": "$.id"
                        }
                      }
                    }
                  },
                  "meta": {
                    "title": [
                      {
                        "value": {
                          "path": "$.attributes.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText",
                                "args": {
                                  "omitCode": true
                                }
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.attachment[*].title",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].text",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].coding[*].display",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      }
                    ],
                    "subTitle": {
                      "type": "list",
                      "value": {
                        "elements": [
                          [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No date"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.author[*].name[*]",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "humanName"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.organization[*].name"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No author"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.status"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No status"
                              }
                            }
                          ]
                        ]
                      }
                    },
                    "date": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                },
                {
                  "type": "link",
                  "dependsOn": {
                    "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^(?!(^text\\/(html|plain)))/))]"
                  },
                  "value": {
                    "label": {
                      "string": "{{reportTitle}}",
                      "params": {
                        "reportTitle": [
                          {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          }
                        ]
                      }
                    },
                    "target": "internal",
                    "icon": "ico-download",
                    "url": {
                      "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportInternalDownloadable.onco.general",
                      "params": {
                        "patientId": {
                          "path": "$.patientId"
                        },
                        "entityType": {
                          "path": "$.type"
                        },
                        "entityId": {
                          "path": "$.id"
                        }
                      }
                    }
                  },
                  "meta": {
                    "title": [
                      {
                        "value": {
                          "path": "$.attributes.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText",
                                "args": {
                                  "omitCode": true
                                }
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.attachment[*].title",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].text",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].coding[*].display",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      }
                    ],
                    "subTitle": {
                      "type": "list",
                      "value": {
                        "elements": [
                          [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No date"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.author[*].name[*]",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "humanName"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.organization[*].name"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No author"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.status"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No status"
                              }
                            }
                          ]
                        ]
                      }
                    },
                    "date": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ],
              "timelineNavigation": [
                {
                  "type": "twoColumn",
                  "dependsOn": {
                    "path": "$",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "exactDate"
                        }
                      }
                    ]
                  },
                  "value": {
                    "leftColumn": {
                      "type": "link",
                      "value": {
                        "label": {
                          "string": "{{reportTitle}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        "target": "siteNavigation",
                        "url": {
                          "string": "/timeline/{{!id}}",
                          "params": {
                            "id": {
                              "path": "$.id"
                            }
                          }
                        }
                      }
                    },
                    "rightColumn": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "labs",
      "sources": "$.mostRecentChemistryPanel",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "type": "text",
                "value": {
                  "string": "Chemistry"
                },
                "meta": {
                  "title": true
                }
              },
              {
                "type": "datetime",
                "value": {
                  "path": "$.date"
                },
                "meta": {
                  "subTitle": true,
                  "timeWithAmPm": true
                }
              },
              {
                "type": "indicator",
                "value": {
                  "paletteColor": {
                    "string": "5"
                  },
                  "message": {
                    "string": "Most recent"
                  }
                }
              },
              {
                "type": "fishbone",
                "subType": "7-cells",
                "key": {
                  "string": "Chemistry"
                },
                "value": {
                  "date": {
                    "path": "$.date"
                  },
                  "path": "$.attributes.results[*]",
                  "config": {
                    "segments": {
                      "s1": {
                        "filter": {
                          "type": "terminology",
                          "conditions": [
                            {
                              "path": "$.code.coding",
                              "includeInline": [
                                {
                                  "system": "http://loinc.org",
                                  "concept": [
                                    {
                                      "code": "2951-2"
                                    }
                                  ]
                                },
                                {
                                  "system": "urn:oid:1.2.840.114350.1.13.0.1.7.2.768282",
                                  "concept": [
                                    {
                                      "code": "1534098"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        "value": {
                          "path": "$.value"
                        },
                        "unit": {
                          "path": "$.unit"
                        },
                        "name": {
                          "path": "$.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "shortName": {
                          "string": "Na"
                        },
                        "referenceRange": {
                          "path": "$"
                        },
                        "trendKey": {
                          "string": "labResult|labSodiumResult|{{!trendKey}}",
                          "params": {
                            "trendKey": {
                              "path": "$.trendKey"
                            }
                          }
                        },
                        "interpretation": {
                          "path": "$.interpretation",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "terminologyFilter",
                                "args": {
                                  "filter": {
                                    "type": "terminology",
                                    "conditions": [
                                      {
                                        "path": "$",
                                        "excludeInline": [
                                          {
                                            "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                                            "concept": [
                                              {
                                                "code": "N"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      },
                      "s2": {
                        "filter": {
                          "type": "terminology",
                          "conditions": [
                            {
                              "path": "$.code.coding",
                              "includeInline": [
                                {
                                  "system": "http://loinc.org",
                                  "concept": [
                                    {
                                      "code": "2075-0"
                                    }
                                  ]
                                },
                                {
                                  "system": "urn:oid:1.2.840.114350.1.13.0.1.7.2.768282",
                                  "concept": [
                                    {
                                      "code": "1534101"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        "value": {
                          "path": "$.value"
                        },
                        "unit": {
                          "path": "$.unit"
                        },
                        "name": {
                          "path": "$.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "shortName": {
                          "string": "Cl"
                        },
                        "referenceRange": {
                          "path": "$"
                        },
                        "trendKey": {
                          "string": "labResult|labChlorideResult|{{!trendKey}}",
                          "params": {
                            "trendKey": {
                              "path": "$.trendKey"
                            }
                          }
                        },
                        "interpretation": {
                          "path": "$.interpretation",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "terminologyFilter",
                                "args": {
                                  "filter": {
                                    "type": "terminology",
                                    "conditions": [
                                      {
                                        "path": "$",
                                        "excludeInline": [
                                          {
                                            "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                                            "concept": [
                                              {
                                                "code": "N"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      },
                      "s3": {
                        "filter": {
                          "type": "terminology",
                          "conditions": [
                            {
                              "path": "$.code.coding",
                              "includeInline": [
                                {
                                  "system": "http://loinc.org",
                                  "concept": [
                                    {
                                      "code": "3094-0"
                                    }
                                  ]
                                },
                                {
                                  "system": "urn:oid:1.2.840.114350.1.13.0.1.7.2.768282",
                                  "concept": [
                                    {
                                      "code": "1526068"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        "value": {
                          "path": "$.value"
                        },
                        "unit": {
                          "path": "$.unit"
                        },
                        "name": {
                          "path": "$.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "shortName": {
                          "string": "BUN"
                        },
                        "referenceRange": {
                          "path": "$"
                        },
                        "trendKey": {
                          "string": "labResult|labBunResult|{{!trendKey}}",
                          "params": {
                            "trendKey": {
                              "path": "$.trendKey"
                            }
                          }
                        },
                        "interpretation": {
                          "path": "$.interpretation",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "terminologyFilter",
                                "args": {
                                  "filter": {
                                    "type": "terminology",
                                    "conditions": [
                                      {
                                        "path": "$",
                                        "excludeInline": [
                                          {
                                            "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                                            "concept": [
                                              {
                                                "code": "N"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      },
                      "s4": {
                        "filter": {
                          "type": "terminology",
                          "conditions": [
                            {
                              "path": "$.code.coding",
                              "includeInline": [
                                {
                                  "system": "http://loinc.org",
                                  "concept": [
                                    {
                                      "code": "2345-7"
                                    }
                                  ]
                                },
                                {
                                  "system": "urn:oid:1.2.840.114350.1.13.0.1.7.2.768282",
                                  "concept": [
                                    {
                                      "code": "1510655"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        "value": {
                          "path": "$.value"
                        },
                        "unit": {
                          "path": "$.unit"
                        },
                        "name": {
                          "path": "$.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "shortName": {
                          "string": "Glu"
                        },
                        "referenceRange": {
                          "path": "$"
                        },
                        "trendKey": {
                          "string": "labResult|labGlucoseResult|{{!trendKey}}",
                          "params": {
                            "trendKey": {
                              "path": "$.trendKey"
                            }
                          }
                        },
                        "interpretation": {
                          "path": "$.interpretation",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "terminologyFilter",
                                "args": {
                                  "filter": {
                                    "type": "terminology",
                                    "conditions": [
                                      {
                                        "path": "$",
                                        "excludeInline": [
                                          {
                                            "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                                            "concept": [
                                              {
                                                "code": "N"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      },
                      "s5": {
                        "filter": {
                          "type": "terminology",
                          "conditions": [
                            {
                              "path": "$.code.coding",
                              "includeInline": [
                                {
                                  "system": "http://loinc.org",
                                  "concept": [
                                    {
                                      "code": "38483-4"
                                    },
                                    {
                                      "code": "59826-8"
                                    },
                                    {
                                      "code": "21232-4"
                                    },
                                    {
                                      "code": "2160-0"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        "value": {
                          "path": "$.value"
                        },
                        "unit": {
                          "path": "$.unit"
                        },
                        "name": {
                          "path": "$.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "shortName": {
                          "string": "Cr"
                        },
                        "referenceRange": {
                          "path": "$"
                        },
                        "trendKey": {
                          "string": "labResult|labCreatinineResult|{{!trendKey}}",
                          "params": {
                            "trendKey": {
                              "path": "$.trendKey"
                            }
                          }
                        },
                        "interpretation": {
                          "path": "$.interpretation",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "terminologyFilter",
                                "args": {
                                  "filter": {
                                    "type": "terminology",
                                    "conditions": [
                                      {
                                        "path": "$",
                                        "excludeInline": [
                                          {
                                            "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                                            "concept": [
                                              {
                                                "code": "N"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      },
                      "s6": {
                        "filter": {
                          "type": "terminology",
                          "conditions": [
                            {
                              "path": "$.code.coding",
                              "includeInline": [
                                {
                                  "system": "http://loinc.org",
                                  "concept": [
                                    {
                                      "code": "2028-9"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        "value": {
                          "path": "$.value"
                        },
                        "unit": {
                          "path": "$.unit"
                        },
                        "name": {
                          "path": "$.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "shortName": {
                          "string": "CO"
                        },
                        "referenceRange": {
                          "path": "$"
                        },
                        "trendKey": {
                          "string": "labResult|labCo2Result|{{!trendKey}}",
                          "params": {
                            "trendKey": {
                              "path": "$.trendKey"
                            }
                          }
                        },
                        "interpretation": {
                          "path": "$.interpretation",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "terminologyFilter",
                                "args": {
                                  "filter": {
                                    "type": "terminology",
                                    "conditions": [
                                      {
                                        "path": "$",
                                        "excludeInline": [
                                          {
                                            "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                                            "concept": [
                                              {
                                                "code": "N"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      },
                      "s7": {
                        "filter": {
                          "type": "terminology",
                          "conditions": [
                            {
                              "path": "$.code.coding",
                              "includeInline": [
                                {
                                  "system": "http://loinc.org",
                                  "concept": [
                                    {
                                      "code": "2823-3"
                                    }
                                  ]
                                },
                                {
                                  "system": "urn:oid:1.2.840.114350.1.13.0.1.7.2.768282",
                                  "concept": [
                                    {
                                      "code": "1534081"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        "value": {
                          "path": "$.value"
                        },
                        "unit": {
                          "path": "$.unit"
                        },
                        "name": {
                          "path": "$.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "shortName": {
                          "string": "K"
                        },
                        "referenceRange": {
                          "path": "$"
                        },
                        "trendKey": {
                          "string": "labResult|labPotassiumResult|{{!trendKey}}",
                          "params": {
                            "trendKey": {
                              "path": "$.trendKey"
                            }
                          }
                        },
                        "interpretation": {
                          "path": "$.interpretation",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "terminologyFilter",
                                "args": {
                                  "filter": {
                                    "type": "terminology",
                                    "conditions": [
                                      {
                                        "path": "$",
                                        "excludeInline": [
                                          {
                                            "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                                            "concept": [
                                              {
                                                "code": "N"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                }
              }
            ],
            "footer": {
              "reports": [
                {
                  "type": "link",
                  "dependsOn": {
                    "path": "$.attributes.reportContent[0]"
                  },
                  "value": {
                    "label": {
                      "string": "{{reportTitle}} {{conclusionCode}}",
                      "params": {
                        "reportTitle": [
                          {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.context.procedure[*].code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText"
                                }
                              }
                            ]
                          }
                        ],
                        "conclusionCode": {
                          "path": "$.attributes.conclusionCode",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      }
                    },
                    "target": "internal",
                    "url": {
                      "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                      "params": {
                        "patientId": {
                          "path": "$.patientId"
                        },
                        "entityType": {
                          "path": "$.type"
                        },
                        "entityId": {
                          "path": "$.id"
                        }
                      }
                    }
                  },
                  "meta": {
                    "title": [
                      {
                        "value": {
                          "path": "$.attributes.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText",
                                "args": {
                                  "omitCode": true
                                }
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.attachment[*].title",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].text",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].coding[*].display",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.context.procedure[*].code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      }
                    ],
                    "subTitle": {
                      "type": "list",
                      "value": {
                        "elements": [
                          [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No date"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.author[*].name[*]",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "humanName"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.organization[*].name"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No author"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.status"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No status"
                              }
                            }
                          ]
                        ]
                      }
                    },
                    "date": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ],
              "timelineNavigation": [
                {
                  "type": "twoColumn",
                  "dependsOn": {
                    "path": "$",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "exactDate"
                        }
                      }
                    ]
                  },
                  "value": {
                    "leftColumn": {
                      "type": "link",
                      "value": {
                        "label": {
                          "string": "{{reportTitle}} {{conclusionCode}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ],
                            "conclusionCode": {
                              "path": "$.attributes.conclusionCode",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "target": "siteNavigation",
                        "url": {
                          "string": "/timeline/{{!id}}",
                          "params": {
                            "id": {
                              "path": "$.id"
                            }
                          }
                        }
                      }
                    },
                    "rightColumn": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "labs",
      "sources": "$.mostRecentHematologyPanel",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "type": "text",
                "value": {
                  "string": "Hematology"
                },
                "meta": {
                  "title": true
                }
              },
              {
                "type": "datetime",
                "value": {
                  "path": "$.date"
                },
                "meta": {
                  "subTitle": true,
                  "timeWithAmPm": true
                }
              },
              {
                "type": "indicator",
                "value": {
                  "paletteColor": {
                    "string": "5"
                  },
                  "message": {
                    "string": "Most recent"
                  }
                }
              },
              {
                "type": "fishbone",
                "subType": "4-cells",
                "key": {
                  "string": "Hematology"
                },
                "value": {
                  "date": {
                    "path": "$.date"
                  },
                  "path": "$.attributes.results[*]",
                  "config": {
                    "segments": {
                      "s1": {
                        "filter": {
                          "type": "terminology",
                          "conditions": [
                            {
                              "path": "$.code.coding",
                              "includeInline": [
                                {
                                  "system": "http://loinc.org",
                                  "concept": [
                                    {
                                      "code": "26464-8"
                                    },
                                    {
                                      "code": "49498-9"
                                    },
                                    {
                                      "code": "6690-2"
                                    },
                                    {
                                      "code": "804-5"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        "value": {
                          "path": "$.value"
                        },
                        "unit": {
                          "path": "$.unit"
                        },
                        "name": {
                          "path": "$.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "shortName": {
                          "string": "WBC"
                        },
                        "referenceRange": {
                          "path": "$"
                        },
                        "trendKey": {
                          "string": "labResult|labWbcResult|{{!trendKey}}",
                          "params": {
                            "trendKey": {
                              "path": "$.trendKey"
                            }
                          }
                        },
                        "interpretation": {
                          "path": "$.interpretation",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "terminologyFilter",
                                "args": {
                                  "filter": {
                                    "type": "terminology",
                                    "conditions": [
                                      {
                                        "path": "$",
                                        "excludeInline": [
                                          {
                                            "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                                            "concept": [
                                              {
                                                "code": "N"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      },
                      "s2": {
                        "filter": {
                          "type": "terminology",
                          "conditions": [
                            {
                              "path": "$.code.coding",
                              "includeInline": [
                                {
                                  "system": "http://loinc.org",
                                  "concept": [
                                    {
                                      "code": "59260-0"
                                    },
                                    {
                                      "code": "718-7"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        "value": {
                          "path": "$.value"
                        },
                        "unit": {
                          "path": "$.unit"
                        },
                        "name": {
                          "path": "$.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "shortName": {
                          "string": "Hb"
                        },
                        "referenceRange": {
                          "path": "$"
                        },
                        "trendKey": {
                          "string": "labResult|labHemoglobinResult|{{!trendKey}}",
                          "params": {
                            "trendKey": {
                              "path": "$.trendKey"
                            }
                          }
                        },
                        "interpretation": {
                          "path": "$.interpretation",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "terminologyFilter",
                                "args": {
                                  "filter": {
                                    "type": "terminology",
                                    "conditions": [
                                      {
                                        "path": "$",
                                        "excludeInline": [
                                          {
                                            "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                                            "concept": [
                                              {
                                                "code": "N"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      },
                      "s3": {
                        "filter": {
                          "type": "terminology",
                          "conditions": [
                            {
                              "path": "$.code.coding",
                              "includeInline": [
                                {
                                  "system": "http://loinc.org",
                                  "concept": [
                                    {
                                      "code": "26515-7"
                                    },
                                    {
                                      "code": "49497-1"
                                    },
                                    {
                                      "code": "5907-1"
                                    },
                                    {
                                      "code": "777-3"
                                    },
                                    {
                                      "code": "778-1"
                                    },
                                    {
                                      "code": "97995-5"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        "value": {
                          "path": "$.value"
                        },
                        "unit": {
                          "path": "$.unit"
                        },
                        "name": {
                          "path": "$.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "shortName": {
                          "string": "Plt"
                        },
                        "referenceRange": {
                          "path": "$"
                        },
                        "trendKey": {
                          "string": "labResult|labPlateletsResult|{{!trendKey}}",
                          "params": {
                            "trendKey": {
                              "path": "$.trendKey"
                            }
                          }
                        },
                        "interpretation": {
                          "path": "$.interpretation",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "terminologyFilter",
                                "args": {
                                  "filter": {
                                    "type": "terminology",
                                    "conditions": [
                                      {
                                        "path": "$",
                                        "excludeInline": [
                                          {
                                            "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                                            "concept": [
                                              {
                                                "code": "N"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      },
                      "s4": {
                        "filter": {
                          "type": "terminology",
                          "conditions": [
                            {
                              "path": "$.code.coding",
                              "includeInline": [
                                {
                                  "system": "http://loinc.org",
                                  "concept": [
                                    {
                                      "code": "4544-3"
                                    }
                                  ]
                                },
                                {
                                  "system": "urn:oid:1.2.840.114350.1.13.0.1.7.2.768282",
                                  "concept": [
                                    {
                                      "code": "1552602"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        "value": {
                          "path": "$.value"
                        },
                        "unit": {
                          "path": "$.unit"
                        },
                        "name": {
                          "path": "$.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "shortName": {
                          "string": "HCT"
                        },
                        "referenceRange": {
                          "path": "$"
                        },
                        "trendKey": {
                          "string": "labResult|labHematocritResult|{{!trendKey}}",
                          "params": {
                            "trendKey": {
                              "path": "$.trendKey"
                            }
                          }
                        },
                        "interpretation": {
                          "path": "$.interpretation",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "terminologyFilter",
                                "args": {
                                  "filter": {
                                    "type": "terminology",
                                    "conditions": [
                                      {
                                        "path": "$",
                                        "excludeInline": [
                                          {
                                            "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationInterpretation",
                                            "concept": [
                                              {
                                                "code": "N"
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                }
              }
            ],
            "footer": {
              "reports": [
                {
                  "type": "link",
                  "dependsOn": {
                    "path": "$.attributes.reportContent[0]"
                  },
                  "value": {
                    "label": {
                      "string": "{{reportTitle}} {{conclusionCode}}",
                      "params": {
                        "reportTitle": [
                          {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.context.procedure[*].code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText"
                                }
                              }
                            ]
                          }
                        ],
                        "conclusionCode": {
                          "path": "$.attributes.conclusionCode",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        }
                      }
                    },
                    "target": "internal",
                    "url": {
                      "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                      "params": {
                        "patientId": {
                          "path": "$.patientId"
                        },
                        "entityType": {
                          "path": "$.type"
                        },
                        "entityId": {
                          "path": "$.id"
                        }
                      }
                    }
                  },
                  "meta": {
                    "title": [
                      {
                        "value": {
                          "path": "$.attributes.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText",
                                "args": {
                                  "omitCode": true
                                }
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.attachment[*].title",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].text",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].coding[*].display",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.context.procedure[*].code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      }
                    ],
                    "subTitle": {
                      "type": "list",
                      "value": {
                        "elements": [
                          [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No date"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.author[*].name[*]",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "humanName"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.organization[*].name"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No author"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.status"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No status"
                              }
                            }
                          ]
                        ]
                      }
                    },
                    "date": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ],
              "timelineNavigation": [
                {
                  "type": "twoColumn",
                  "dependsOn": {
                    "path": "$",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "exactDate"
                        }
                      }
                    ]
                  },
                  "value": {
                    "leftColumn": {
                      "type": "link",
                      "value": {
                        "label": {
                          "string": "{{reportTitle}} {{conclusionCode}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ],
                            "conclusionCode": {
                              "path": "$.attributes.conclusionCode",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "target": "siteNavigation",
                        "url": {
                          "string": "/timeline/{{!id}}",
                          "params": {
                            "id": {
                              "path": "$.id"
                            }
                          }
                        }
                      }
                    },
                    "rightColumn": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "labs",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "type": "text",
                "value": {
                  "string": "PSA"
                },
                "meta": {
                  "title": true
                }
              },
              {
                "type": "array",
                "value": {
                  "path": "$.mostRecentProstateTumorMarkerTestResults[*]",
                  "elements": {
                    "type": "trendKey",
                    "value": {
                      "string": "{{!type}}|{{subtype}}|{{!trendKey}}",
                      "params": {
                        "type": {
                          "path": "$.type"
                        },
                        "subtype": {
                          "path": "$.subtypes[0]"
                        },
                        "trendKey": {
                          "path": "$.attributes.trendKey"
                        }
                      }
                    }
                  }
                }
              }
            ],
            "footer": {
              "reports": [],
              "timelineNavigation": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.mostRecentProstateTumorMarkerTestResults[*]",
                    "elements": {
                      "type": "twoColumn",
                      "dependsOn": {
                        "path": "$",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "exactDate"
                            }
                          }
                        ]
                      },
                      "value": {
                        "leftColumn": {
                          "type": "link",
                          "value": {
                            "label": {
                              "string": "{{code}} {{value}}",
                              "params": {
                                "code": {
                                  "path": "$.attributes.code",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText"
                                      }
                                    }
                                  ]
                                },
                                "value": {
                                  "path": "$.attributes.value"
                                }
                              }
                            },
                            "target": "siteNavigation",
                            "url": {
                              "string": "/timeline/{{!id}}",
                              "params": {
                                "id": {
                                  "path": "$.id"
                                }
                              }
                            }
                          }
                        },
                        "rightColumn": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        },
        {
          "type": "array",
          "value": {
            "path": "$.mostRecentBreastTumorMarkerTestResults[*]",
            "elements": {
              "type": "card",
              "value": {
                "content": [
                  {
                    "type": "text",
                    "value": {
                      "path": "$.attributes.code",
                      "postProcessing": [
                        {
                          "processor": {
                            "name": "codeableConceptText"
                          }
                        }
                      ]
                    },
                    "meta": {
                      "title": true
                    }
                  },
                  {
                    "type": "trendKey",
                    "value": {
                      "string": "{{!type}}|{{subtype}}|{{!trendKey}}",
                      "params": {
                        "type": {
                          "path": "$.type"
                        },
                        "subtype": {
                          "path": "$.subtypes[0]"
                        },
                        "trendKey": {
                          "path": "$.attributes.trendKey"
                        }
                      }
                    }
                  }
                ],
                "footer": {
                  "reports": [],
                  "timelineNavigation": [
                    {
                      "type": "twoColumn",
                      "dependsOn": {
                        "path": "$",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "exactDate"
                            }
                          }
                        ]
                      },
                      "value": {
                        "leftColumn": {
                          "type": "link",
                          "value": {
                            "label": {
                              "string": "{{code}} {{value}}",
                              "params": {
                                "code": {
                                  "path": "$.attributes.code",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText"
                                      }
                                    }
                                  ]
                                },
                                "value": {
                                  "path": "$.attributes.value"
                                }
                              }
                            },
                            "target": "siteNavigation",
                            "url": {
                              "string": "/timeline/{{!id}}",
                              "params": {
                                "id": {
                                  "path": "$.id"
                                }
                              }
                            }
                          }
                        },
                        "rightColumn": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        {
          "type": "card",
          "value": {
            "content": [
              {
                "type": "text",
                "value": {
                  "string": "Testosterone"
                },
                "meta": {
                  "title": true
                }
              },
              {
                "type": "array",
                "value": {
                  "path": "$.mostRecentTestosterone[*]",
                  "elements": {
                    "type": "trendKey",
                    "value": {
                      "string": "{{!type}}|{{subtype}}|{{!trendKey}}",
                      "params": {
                        "type": {
                          "path": "$.type"
                        },
                        "subtype": {
                          "path": "$.subtypes[0]"
                        },
                        "trendKey": {
                          "path": "$.attributes.trendKey"
                        }
                      }
                    }
                  }
                }
              }
            ],
            "footer": {
              "reports": [],
              "timelineNavigation": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.mostRecentTestosterone[*]",
                    "elements": {
                      "type": "twoColumn",
                      "dependsOn": {
                        "path": "$",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "exactDate"
                            }
                          }
                        ]
                      },
                      "value": {
                        "leftColumn": {
                          "type": "link",
                          "value": {
                            "label": {
                              "string": "{{code}} {{value}}",
                              "params": {
                                "code": {
                                  "path": "$.attributes.code",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText"
                                      }
                                    }
                                  ]
                                },
                                "value": {
                                  "path": "$.attributes.value"
                                }
                              }
                            },
                            "target": "siteNavigation",
                            "url": {
                              "string": "/timeline/{{!id}}",
                              "params": {
                                "id": {
                                  "path": "$.id"
                                }
                              }
                            }
                          }
                        },
                        "rightColumn": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "labs",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Lab history"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "lab history"
                },
                "type": "text"
              },
              {
                "type": "list",
                "value": {
                  "elements": [
                    {
                      "value": {
                        "path": "$.labReportsFromLastThreeMonths[*]",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "fromLastThreeMonthsDateRangeText"
                            }
                          }
                        ]
                      },
                      "type": "dateRange"
                    },
                    {
                      "value": {
                        "path": "$.labReportsFromLastThreeMonths[*]",
                        "elements": {
                          "value": {
                            "leftColumn": [
                              {
                                "type": "link",
                                "dependsOn": {
                                  "path": "attributes.results[0]"
                                },
                                "value": {
                                  "label": {
                                    "string": "{{reportTitle}}",
                                    "params": {
                                      "reportTitle": [
                                        {
                                          "path": "$.attributes.code",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "codeableConceptText",
                                                "args": {
                                                  "omitCode": true
                                                }
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "path": "$.attributes.attachment[*].title",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "first"
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "path": "$.attributes.category[*].text",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "first"
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "path": "$.attributes.category[*].coding[*].display",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "first"
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "path": "$.attributes.context.procedure[*].code",
                                          "postProcessing": [
                                            {
                                              "processor": {
                                                "name": "codeableConceptText"
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  "target": "internal",
                                  "url": {
                                    "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=labReportResults.onco.general",
                                    "params": {
                                      "patientId": {
                                        "path": "$.patientId"
                                      },
                                      "entityType": {
                                        "path": "$.type"
                                      },
                                      "entityId": {
                                        "path": "$.id"
                                      }
                                    }
                                  }
                                },
                                "meta": {
                                  "title": [
                                    {
                                      "value": {
                                        "path": "$.attributes.code",
                                        "postProcessing": [
                                          {
                                            "processor": {
                                              "name": "codeableConceptText",
                                              "args": {
                                                "omitCode": true
                                              }
                                            }
                                          }
                                        ]
                                      },
                                      "type": "text"
                                    },
                                    {
                                      "value": {
                                        "path": "$.attributes.attachment[*].title",
                                        "postProcessing": [
                                          {
                                            "processor": {
                                              "name": "first"
                                            }
                                          }
                                        ]
                                      },
                                      "type": "text"
                                    },
                                    {
                                      "value": {
                                        "path": "$.attributes.category[*].text",
                                        "postProcessing": [
                                          {
                                            "processor": {
                                              "name": "first"
                                            }
                                          }
                                        ]
                                      },
                                      "type": "text"
                                    },
                                    {
                                      "value": {
                                        "path": "$.attributes.category[*].coding[*].display",
                                        "postProcessing": [
                                          {
                                            "processor": {
                                              "name": "first"
                                            }
                                          }
                                        ]
                                      },
                                      "type": "text"
                                    },
                                    {
                                      "value": {
                                        "path": "$.attributes.context.procedure[*].code",
                                        "postProcessing": [
                                          {
                                            "processor": {
                                              "name": "codeableConceptText"
                                            }
                                          }
                                        ]
                                      },
                                      "type": "text"
                                    }
                                  ],
                                  "subTitle": {
                                    "type": "list",
                                    "value": {
                                      "elements": [
                                        [
                                          {
                                            "type": "datetime",
                                            "value": {
                                              "path": "$.date"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "value": {
                                              "string": "No date"
                                            }
                                          }
                                        ],
                                        [
                                          {
                                            "type": "text",
                                            "value": {
                                              "path": "$.attributes.author[*].name[*]",
                                              "postProcessing": [
                                                {
                                                  "processor": {
                                                    "name": "humanName"
                                                  }
                                                }
                                              ]
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "value": {
                                              "path": "$.attributes.organization[*].name"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "value": {
                                              "string": "No author"
                                            }
                                          }
                                        ],
                                        [
                                          {
                                            "type": "text",
                                            "value": {
                                              "path": "$.attributes.status"
                                            }
                                          },
                                          {
                                            "type": "text",
                                            "value": {
                                              "string": "No status"
                                            }
                                          }
                                        ]
                                      ]
                                    }
                                  },
                                  "date": {
                                    "type": "datetime",
                                    "value": {
                                      "path": "$.date"
                                    }
                                  }
                                }
                              },
                              {
                                "value": {
                                  "path": "$.attributes.code",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText",
                                        "args": {
                                          "omitCode": true
                                        }
                                      }
                                    }
                                  ]
                                },
                                "type": "text"
                              },
                              {
                                "value": {
                                  "path": "$.attributes.attachment[*].title",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "first"
                                      }
                                    }
                                  ]
                                },
                                "type": "text"
                              },
                              {
                                "value": {
                                  "path": "$.attributes.category[*].text",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "first"
                                      }
                                    }
                                  ]
                                },
                                "type": "text"
                              },
                              {
                                "value": {
                                  "path": "$.attributes.category[*].coding[*].display",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "first"
                                      }
                                    }
                                  ]
                                },
                                "type": "text"
                              },
                              {
                                "value": {
                                  "path": "$.attributes.context.procedure[*].code",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText"
                                      }
                                    }
                                  ]
                                },
                                "type": "text"
                              }
                            ],
                            "rightColumn": {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            }
                          },
                          "type": "twoColumn"
                        }
                      },
                      "type": "array"
                    }
                  ]
                },
                "meta": {
                  "rowThreshold": 15
                }
              }
            ],
            "footer": {
              "reports": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.labReportsFromLastThreeMonths[*]",
                    "elements": {
                      "type": "link",
                      "dependsOn": {
                        "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^text\\/(html|plain)/))]"
                      },
                      "value": {
                        "label": {
                          "string": "{{reportTitle}} {{conclusionCode}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ],
                            "conclusionCode": {
                              "path": "$.attributes.conclusionCode",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "target": "internal",
                        "url": {
                          "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                          "params": {
                            "patientId": {
                              "path": "$.patientId"
                            },
                            "entityType": {
                              "path": "$.type"
                            },
                            "entityId": {
                              "path": "$.id"
                            }
                          }
                        }
                      },
                      "meta": {
                        "title": [
                          {
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText",
                                    "args": {
                                      "omitCode": true
                                    }
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.attachment[*].title",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].text",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].coding[*].display",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.context.procedure[*].code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          }
                        ],
                        "subTitle": {
                          "type": "list",
                          "value": {
                            "elements": [
                              [
                                {
                                  "type": "datetime",
                                  "value": {
                                    "path": "$.date"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No date"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.author[*].name[*]",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "humanName"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.organization[*].name"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No author"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.status"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No status"
                                  }
                                }
                              ]
                            ]
                          }
                        },
                        "date": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "type": "array",
                  "value": {
                    "path": "$.labReportsFromLastThreeMonths[*]",
                    "elements": {
                      "type": "link",
                      "dependsOn": {
                        "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^(?!(^text\\/(html|plain)))/))]"
                      },
                      "value": {
                        "label": {
                          "string": "{{reportTitle}} {{conclusionCode}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ],
                            "conclusionCode": {
                              "path": "$.attributes.conclusionCode",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "target": "internal",
                        "icon": "ico-download",
                        "url": {
                          "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportInternalDownloadable.onco.general",
                          "params": {
                            "patientId": {
                              "path": "$.patientId"
                            },
                            "entityType": {
                              "path": "$.type"
                            },
                            "entityId": {
                              "path": "$.id"
                            }
                          }
                        }
                      },
                      "meta": {
                        "title": [
                          {
                            "value": {
                              "path": "$.attributes.code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText",
                                    "args": {
                                      "omitCode": true
                                    }
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.attachment[*].title",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].text",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.category[*].coding[*].display",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "first"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          },
                          {
                            "value": {
                              "path": "$.attributes.context.procedure[*].code",
                              "postProcessing": [
                                {
                                  "processor": {
                                    "name": "codeableConceptText"
                                  }
                                }
                              ]
                            },
                            "type": "text"
                          }
                        ],
                        "subTitle": {
                          "type": "list",
                          "value": {
                            "elements": [
                              [
                                {
                                  "type": "datetime",
                                  "value": {
                                    "path": "$.date"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No date"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.author[*].name[*]",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "humanName"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.organization[*].name"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No author"
                                  }
                                }
                              ],
                              [
                                {
                                  "type": "text",
                                  "value": {
                                    "path": "$.attributes.status"
                                  }
                                },
                                {
                                  "type": "text",
                                  "value": {
                                    "string": "No status"
                                  }
                                }
                              ]
                            ]
                          }
                        },
                        "date": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ],
              "timelineNavigation": [
                {
                  "type": "array",
                  "value": {
                    "path": "$.labReportsFromLastThreeMonths[*]",
                    "elements": {
                      "type": "twoColumn",
                      "dependsOn": {
                        "path": "$",
                        "postProcessing": [
                          {
                            "processor": {
                              "name": "exactDate"
                            }
                          }
                        ]
                      },
                      "value": {
                        "leftColumn": {
                          "type": "link",
                          "value": {
                            "label": {
                              "string": "{{reportTitle}} {{conclusionCode}}",
                              "params": {
                                "reportTitle": [
                                  {
                                    "path": "$.attributes.code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText",
                                          "args": {
                                            "omitCode": true
                                          }
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.attachment[*].title",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.category[*].text",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.category[*].coding[*].display",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "first"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "path": "$.attributes.context.procedure[*].code",
                                    "postProcessing": [
                                      {
                                        "processor": {
                                          "name": "codeableConceptText"
                                        }
                                      }
                                    ]
                                  }
                                ],
                                "conclusionCode": {
                                  "path": "$.attributes.conclusionCode",
                                  "postProcessing": [
                                    {
                                      "processor": {
                                        "name": "codeableConceptText"
                                      }
                                    }
                                  ]
                                }
                              }
                            },
                            "target": "siteNavigation",
                            "url": {
                              "string": "/timeline/{{!id}}",
                              "params": {
                                "id": {
                                  "path": "$.id"
                                }
                              }
                            }
                          }
                        },
                        "rightColumn": {
                          "type": "datetime",
                          "value": {
                            "path": "$.date"
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "mostRecentOncologyNote",
      "elements": [
        {
          "type": "card",
          "dependsOn": {
            "path": "$.mostRecentOncologyNote",
            "inverse": true
          },
          "value": {
            "content": [
              {
                "value": {
                  "string": "Oncology note - most recent"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "oncology note"
                },
                "type": "text"
              }
            ],
            "footer": {
              "reports": [],
              "timelineNavigation": []
            }
          }
        }
      ]
    },
    {
      "group": "mostRecentOncologyNote",
      "sources": "$.mostRecentOncologyNote[*]",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "string": "Oncology note - most recent"
                },
                "meta": {
                  "title": true,
                  "emptyValue": "oncology note"
                },
                "type": "text"
              },
              [
                {
                  "type": "text",
                  "value": {
                    "path": "$.attributes.encounterDisplay"
                  }
                },
                {
                  "value": {
                    "path": "$.attributes.code",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "codeableConceptText",
                          "args": {
                            "omitCode": true
                          }
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.attachment[*].title",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "first"
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.category[*].text",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "first"
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.category[*].coding[*].display",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "first"
                        }
                      }
                    ]
                  },
                  "type": "text"
                },
                {
                  "value": {
                    "path": "$.attributes.context.procedure[*].code",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "codeableConceptText"
                        }
                      }
                    ]
                  },
                  "type": "text"
                }
              ],
              {
                "value": {
                  "sourceDocument": {
                    "path": "$"
                  },
                  "clpFindings": {
                    "path": "$.attributes.aiSummary.l2"
                  }
                },
                "type": "nlp"
              },
              {
                "value": {
                  "leftColumn": {
                    "value": {
                      "string": "Date"
                    },
                    "type": "text"
                  },
                  "rightColumn": {
                    "value": {
                      "path": "$.date"
                    },
                    "type": "datetime"
                  }
                },
                "type": "twoColumn"
              }
            ],
            "footer": {
              "reports": [
                {
                  "type": "link",
                  "dependsOn": {
                    "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^text\\/(html|plain)/))]"
                  },
                  "value": {
                    "label": {
                      "string": "{{reportTitle}}",
                      "params": {
                        "reportTitle": [
                          {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.context.procedure[*].code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText"
                                }
                              }
                            ]
                          }
                        ]
                      }
                    },
                    "target": "internal",
                    "url": {
                      "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportHtml.onco.general",
                      "params": {
                        "patientId": {
                          "path": "$.patientId"
                        },
                        "entityType": {
                          "path": "$.type"
                        },
                        "entityId": {
                          "path": "$.id"
                        }
                      }
                    }
                  },
                  "meta": {
                    "title": [
                      {
                        "value": {
                          "path": "$.attributes.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText",
                                "args": {
                                  "omitCode": true
                                }
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.attachment[*].title",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].text",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].coding[*].display",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.context.procedure[*].code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      }
                    ],
                    "subTitle": {
                      "type": "list",
                      "value": {
                        "elements": [
                          [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No date"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.author[*].name[*]",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "humanName"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.organization[*].name"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No author"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.status"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No status"
                              }
                            }
                          ]
                        ]
                      }
                    },
                    "date": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                },
                {
                  "type": "link",
                  "dependsOn": {
                    "path": "$.attributes.attachment[?(@.contentType && @.contentType.match(/^(?!(^text\\/(html|plain)))/))]"
                  },
                  "value": {
                    "label": {
                      "string": "{{reportTitle}}",
                      "params": {
                        "reportTitle": [
                          {
                            "path": "$.attributes.code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText",
                                  "args": {
                                    "omitCode": true
                                  }
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.attachment[*].title",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].text",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.category[*].coding[*].display",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "first"
                                }
                              }
                            ]
                          },
                          {
                            "path": "$.attributes.context.procedure[*].code",
                            "postProcessing": [
                              {
                                "processor": {
                                  "name": "codeableConceptText"
                                }
                              }
                            ]
                          }
                        ]
                      }
                    },
                    "target": "internal",
                    "icon": "ico-download",
                    "url": {
                      "string": "/patients/{{!patientId}}/reports/{{!entityType}}/{{!entityId}}?representation=reportInternalDownloadable.onco.general",
                      "params": {
                        "patientId": {
                          "path": "$.patientId"
                        },
                        "entityType": {
                          "path": "$.type"
                        },
                        "entityId": {
                          "path": "$.id"
                        }
                      }
                    }
                  },
                  "meta": {
                    "title": [
                      {
                        "value": {
                          "path": "$.attributes.code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText",
                                "args": {
                                  "omitCode": true
                                }
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.attachment[*].title",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].text",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.category[*].coding[*].display",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "first"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      },
                      {
                        "value": {
                          "path": "$.attributes.context.procedure[*].code",
                          "postProcessing": [
                            {
                              "processor": {
                                "name": "codeableConceptText"
                              }
                            }
                          ]
                        },
                        "type": "text"
                      }
                    ],
                    "subTitle": {
                      "type": "list",
                      "value": {
                        "elements": [
                          [
                            {
                              "type": "datetime",
                              "value": {
                                "path": "$.date"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No date"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.author[*].name[*]",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "humanName"
                                    }
                                  }
                                ]
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.organization[*].name"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No author"
                              }
                            }
                          ],
                          [
                            {
                              "type": "text",
                              "value": {
                                "path": "$.attributes.status"
                              }
                            },
                            {
                              "type": "text",
                              "value": {
                                "string": "No status"
                              }
                            }
                          ]
                        ]
                      }
                    },
                    "date": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ],
              "timelineNavigation": [
                {
                  "type": "twoColumn",
                  "dependsOn": {
                    "path": "$",
                    "postProcessing": [
                      {
                        "processor": {
                          "name": "exactDate"
                        }
                      }
                    ]
                  },
                  "value": {
                    "leftColumn": {
                      "type": "link",
                      "value": {
                        "label": {
                          "string": "{{reportTitle}}",
                          "params": {
                            "reportTitle": [
                              {
                                "path": "$.attributes.code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText",
                                      "args": {
                                        "omitCode": true
                                      }
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.attachment[*].title",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].text",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.category[*].coding[*].display",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "first"
                                    }
                                  }
                                ]
                              },
                              {
                                "path": "$.attributes.context.procedure[*].code",
                                "postProcessing": [
                                  {
                                    "processor": {
                                      "name": "codeableConceptText"
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        "target": "siteNavigation",
                        "url": {
                          "string": "/timeline/{{!id}}",
                          "params": {
                            "id": {
                              "path": "$.id"
                            }
                          }
                        }
                      }
                    },
                    "rightColumn": {
                      "type": "datetime",
                      "value": {
                        "path": "$.date"
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "group": "medicalHistory",
      "elements": [
        {
          "type": "card",
          "value": {
            "content": [
              {
                "value": {
                  "label": {
                    "string": "Comorbidities"
                  },
                  "url": {
                    "string": "/medical-history#comorbidities"
                  },
                  "target": "siteNavigation"
                },
                "type": "link"
              },
              {
                "value": {
                  "label": {
                    "string": "Medications"
                  },
                  "url": {
                    "string": "/medical-history#medications"
                  },
                  "target": "siteNavigation"
                },
                "type": "link"
              },
              {
                "value": {
                  "label": {
                    "string": "Allergies and intolerances"
                  },
                  "url": {
                    "string": "/medical-history#allergies"
                  },
                  "target": "siteNavigation"
                },
                "type": "link"
              },
              {
                "value": {
                  "label": {
                    "string": "Patient history"
                  },
                  "url": {
                    "string": "/medical-history#patientHistory"
                  },
                  "target": "siteNavigation"
                },
                "type": "link"
              }
            ]
          }
        }
      ]
    }
  ],
  "layout": [
    [
      {
        "id": "diagnosis",
        "label": "Diagnosis",
        "icon": "ico-oncology"
      },
      {
        "id": "molecularProfile",
        "label": "Molecular profile",
        "icon": "ico-genetics"
      },
      {
        "id": "careTeam",
        "label": "Care team",
        "icon": "ico-idcredentials"
      }
    ],
    [
      {
        "id": "mostRecentImaging",
        "label": "Imaging",
        "icon": "ico-mr",
        "status": "Most recent"
      },
      {
        "id": "mostRecentOncologyNote",
        "label": "Oncology note",
        "icon": "ico-overlay",
        "status": "Most recent"
      },
      {
        "id": "mostRecentErVisit",
        "label": "ER visit",
        "icon": "ico-emergency",
        "status": "Most recent"
      },
      {
        "id": "mostRecentMdtReport",
        "label": "MDT report",
        "icon": "ico-patient-checklist",
        "status": "Most recent"
      }
    ],
    [
      {
        "id": "treatments",
        "label": "Treatments",
        "icon": "ico-chest"
      },
      {
        "id": "labs",
        "label": "Labs",
        "icon": "ico-lab"
      },
      {
        "id": "medicalHistory",
        "label": "Medical history",
        "icon": "ico-healthcare"
      },
      {
        "id": "mostRecentComments",
        "label": "Comments",
        "icon": "ico-chat",
        "status": "Most recent"
      }
    ]
  ]
}